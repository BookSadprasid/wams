!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).wamsClient=t()}}(function(){return function(){return function t(e,n,r){function i(o,a){if(!n[o]){if(!e[o]){var c="function"==typeof require&&require;if(!a&&c)return c(o,!0);if(s)return s(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[o]={exports:{}};e[o][0].call(l.exports,function(t){return i(e[o][1][t]||t)},l,l.exports,t,e,n,r)}return n[o].exports}for(var s="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}}()({1:[function(t,e,n){function r(){}e.exports=function(t,e,n){var i=!1;return n=n||r,s.count=t,0===t?e():s;function s(t,r){if(s.count<=0)throw new Error("after called too many times");--s.count,t?(i=!0,e(t),e=n):0!==s.count||i||e(null,r)}}},{}],2:[function(t,e,n){e.exports=function(t,e,n){var r=t.byteLength;if(e=e||0,n=n||r,t.slice)return t.slice(e,n);if(e<0&&(e+=r),n<0&&(n+=r),n>r&&(n=r),e>=r||e>=n||0===r)return new ArrayBuffer(0);for(var i=new Uint8Array(t),s=new Uint8Array(n-e),o=e,a=0;o<n;o++,a++)s[a]=i[o];return s.buffer}},{}],3:[function(t,e,n){function r(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}e.exports=r,r.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},r.prototype.reset=function(){this.attempts=0},r.prototype.setMin=function(t){this.ms=t},r.prototype.setMax=function(t){this.max=t},r.prototype.setJitter=function(t){this.jitter=t}},{}],4:[function(t,e,n){!function(){"use strict";for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=new Uint8Array(256),r=0;r<t.length;r++)e[t.charCodeAt(r)]=r;n.encode=function(e){var n,r=new Uint8Array(e),i=r.length,s="";for(n=0;n<i;n+=3)s+=t[r[n]>>2],s+=t[(3&r[n])<<4|r[n+1]>>4],s+=t[(15&r[n+1])<<2|r[n+2]>>6],s+=t[63&r[n+2]];return i%3==2?s=s.substring(0,s.length-1)+"=":i%3==1&&(s=s.substring(0,s.length-2)+"=="),s},n.decode=function(t){var n,r,i,s,o,a=.75*t.length,c=t.length,u=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var l=new ArrayBuffer(a),h=new Uint8Array(l);for(n=0;n<c;n+=4)r=e[t.charCodeAt(n)],i=e[t.charCodeAt(n+1)],s=e[t.charCodeAt(n+2)],o=e[t.charCodeAt(n+3)],h[u++]=r<<2|i>>4,h[u++]=(15&i)<<4|s>>2,h[u++]=(3&s)<<6|63&o;return l}}()},{}],5:[function(t,e,n){"use strict";n.byteLength=function(t){var e=u(t),n=e[0],r=e[1];return 3*(n+r)/4-r},n.toByteArray=function(t){for(var e,n=u(t),r=n[0],o=n[1],a=new s(function(t,e,n){return 3*(e+n)/4-n}(0,r,o)),c=0,l=o>0?r-4:r,h=0;h<l;h+=4)e=i[t.charCodeAt(h)]<<18|i[t.charCodeAt(h+1)]<<12|i[t.charCodeAt(h+2)]<<6|i[t.charCodeAt(h+3)],a[c++]=e>>16&255,a[c++]=e>>8&255,a[c++]=255&e;2===o&&(e=i[t.charCodeAt(h)]<<2|i[t.charCodeAt(h+1)]>>4,a[c++]=255&e);1===o&&(e=i[t.charCodeAt(h)]<<10|i[t.charCodeAt(h+1)]<<4|i[t.charCodeAt(h+2)]>>2,a[c++]=e>>8&255,a[c++]=255&e);return a},n.fromByteArray=function(t){for(var e,n=t.length,i=n%3,s=[],o=0,a=n-i;o<a;o+=16383)s.push(l(t,o,o+16383>a?a:o+16383));1===i?(e=t[n-1],s.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],s.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return s.join("")};for(var r=[],i=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,c=o.length;a<c;++a)r[a]=o[a],i[o.charCodeAt(a)]=a;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function l(t,e,n){for(var i,s,o=[],a=e;a<n;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),o.push(r[(s=i)>>18&63]+r[s>>12&63]+r[s>>6&63]+r[63&s]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],6:[function(t,e,n){var r=void 0!==r?r:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,i=function(){try{return 2===new Blob(["hi"]).size}catch(t){return!1}}(),s=i&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(t){return!1}}(),o=r&&r.prototype.append&&r.prototype.getBlob;function a(t){return t.map(function(t){if(t.buffer instanceof ArrayBuffer){var e=t.buffer;if(t.byteLength!==e.byteLength){var n=new Uint8Array(t.byteLength);n.set(new Uint8Array(e,t.byteOffset,t.byteLength)),e=n.buffer}return e}return t})}function c(t,e){e=e||{};var n=new r;return a(t).forEach(function(t){n.append(t)}),e.type?n.getBlob(e.type):n.getBlob()}function u(t,e){return new Blob(a(t),e||{})}"undefined"!=typeof Blob&&(c.prototype=Blob.prototype,u.prototype=Blob.prototype),e.exports=i?s?Blob:u:o?c:void 0},{}],7:[function(t,e,n){},{}],8:[function(t,e,n){"use strict";var r=t("base64-js"),i=t("ieee754");n.Buffer=a,n.SlowBuffer=function(t){+t!=t&&(t=0);return a.alloc(+t)},n.INSPECT_MAX_BYTES=50;var s=2147483647;function o(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return e.__proto__=a.prototype,e}function a(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return l(t)}return c(t,e,n)}function c(t,e,n){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!a.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var n=0|f(t,e),r=o(n),i=r.write(t,e);i!==n&&(r=r.slice(0,i));return r}(t,e);if(ArrayBuffer.isView(t))return h(t);if(null==t)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(q(t,ArrayBuffer)||t&&q(t.buffer,ArrayBuffer))return function(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n);return r.__proto__=a.prototype,r}(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return a.from(r,e,n);var i=function(t){if(a.isBuffer(t)){var e=0|p(t.length),n=o(e);return 0===n.length?n:(t.copy(n,0,0,e),n)}if(void 0!==t.length)return"number"!=typeof t.length||U(t.length)?o(0):h(t);if("Buffer"===t.type&&Array.isArray(t.data))return h(t.data)}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return a.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function l(t){return u(t),o(t<0?0:0|p(t))}function h(t){for(var e=t.length<0?0:0|p(t.length),n=o(e),r=0;r<e;r+=1)n[r]=255&t[r];return n}function p(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function f(t,e){if(a.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||q(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var n=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return L(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return N(t).length;default:if(i)return r?-1:L(t).length;e=(""+e).toLowerCase(),i=!0}}function d(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function y(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),U(n=+n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=a.from(e,r)),a.isBuffer(e))return 0===e.length?-1:g(t,e,n,r,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):g(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function g(t,e,n,r,i){var s,o=1,a=t.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;o=2,a/=2,c/=2,n/=2}function u(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(i){var l=-1;for(s=n;s<a;s++)if(u(t,s)===u(e,-1===l?0:s-l)){if(-1===l&&(l=s),s-l+1===c)return l*o}else-1!==l&&(s-=s-l),l=-1}else for(n+c>a&&(n=a-c),s=n;s>=0;s--){for(var h=!0,p=0;p<c;p++)if(u(t,s+p)!==u(e,p)){h=!1;break}if(h)return s}return-1}function m(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var s=e.length;r>s/2&&(r=s/2);for(var o=0;o<r;++o){var a=parseInt(e.substr(2*o,2),16);if(U(a))return o;t[n+o]=a}return o}function b(t,e,n,r){return F(L(e,t.length-n),t,n,r)}function v(t,e,n,r){return F(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function w(t,e,n,r){return v(t,e,n,r)}function x(t,e,n,r){return F(N(e),t,n,r)}function j(t,e,n,r){return F(function(t,e){for(var n,r,i,s=[],o=0;o<t.length&&!((e-=2)<0);++o)n=t.charCodeAt(o),r=n>>8,i=n%256,s.push(i),s.push(r);return s}(e,t.length-n),t,n,r)}function E(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function k(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var s,o,a,c,u=t[i],l=null,h=u>239?4:u>223?3:u>191?2:1;if(i+h<=n)switch(h){case 1:u<128&&(l=u);break;case 2:128==(192&(s=t[i+1]))&&(c=(31&u)<<6|63&s)>127&&(l=c);break;case 3:s=t[i+1],o=t[i+2],128==(192&s)&&128==(192&o)&&(c=(15&u)<<12|(63&s)<<6|63&o)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:s=t[i+1],o=t[i+2],a=t[i+3],128==(192&s)&&128==(192&o)&&128==(192&a)&&(c=(15&u)<<18|(63&s)<<12|(63&o)<<6|63&a)>65535&&c<1114112&&(l=c)}null===l?(l=65533,h=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=h}return function(t){var e=t.length;if(e<=S)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=S));return n}(r)}n.kMaxLength=s,a.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch(t){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),a.poolSize=8192,a.from=function(t,e,n){return c(t,e,n)},a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,a.alloc=function(t,e,n){return function(t,e,n){return u(t),t<=0?o(t):void 0!==e?"string"==typeof n?o(t).fill(e,n):o(t).fill(e):o(t)}(t,e,n)},a.allocUnsafe=function(t){return l(t)},a.allocUnsafeSlow=function(t){return l(t)},a.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==a.prototype},a.compare=function(t,e){if(q(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),q(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(t)||!a.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var n=t.length,r=e.length,i=0,s=Math.min(n,r);i<s;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},a.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return a.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=a.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var s=t[n];if(q(s,Uint8Array)&&(s=a.from(s)),!a.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},a.byteLength=f,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)d(this,e,e+1);return this},a.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)d(this,e,e+3),d(this,e+1,e+2);return this},a.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)d(this,e,e+7),d(this,e+1,e+6),d(this,e+2,e+5),d(this,e+3,e+4);return this},a.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?k(this,0,t):function(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return C(this,e,n);case"utf8":case"utf-8":return k(this,e,n);case"ascii":return A(this,e,n);case"latin1":case"binary":return T(this,e,n);case"base64":return E(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(t){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===a.compare(this,t)},a.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"},a.prototype.compare=function(t,e,n,r,i){if(q(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var s=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(e>>>=0),c=Math.min(s,o),u=this.slice(r,i),l=t.slice(e,n),h=0;h<c;++h)if(u[h]!==l[h]){s=u[h],o=l[h];break}return s<o?-1:o<s?1:0},a.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},a.prototype.indexOf=function(t,e,n){return y(this,t,e,n,!0)},a.prototype.lastIndexOf=function(t,e,n){return y(this,t,e,n,!1)},a.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var s=!1;;)switch(r){case"hex":return m(this,t,e,n);case"utf8":case"utf-8":return b(this,t,e,n);case"ascii":return v(this,t,e,n);case"latin1":case"binary":return w(this,t,e,n);case"base64":return x(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,t,e,n);default:if(s)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),s=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var S=4096;function A(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function T(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function C(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",s=e;s<n;++s)i+=M(t[s]);return i}function O(t,e,n){for(var r=t.slice(e,n),i="",s=0;s<r.length;s+=2)i+=String.fromCharCode(r[s]+256*r[s+1]);return i}function I(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function P(t,e,n,r,i,s){if(!a.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function B(t,e,n,r,i,s){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function R(t,e,n,r,s){return e=+e,n>>>=0,s||B(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function D(t,e,n,r,s){return e=+e,n>>>=0,s||B(t,0,n,8),i.write(t,e,n,r,52,8),n+8}a.prototype.slice=function(t,e){var n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);var r=this.subarray(t,e);return r.__proto__=a.prototype,r},a.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||I(t,e,this.length);for(var r=this[t],i=1,s=0;++s<e&&(i*=256);)r+=this[t+s]*i;return r},a.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||I(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},a.prototype.readUInt8=function(t,e){return t>>>=0,e||I(t,1,this.length),this[t]},a.prototype.readUInt16LE=function(t,e){return t>>>=0,e||I(t,2,this.length),this[t]|this[t+1]<<8},a.prototype.readUInt16BE=function(t,e){return t>>>=0,e||I(t,2,this.length),this[t]<<8|this[t+1]},a.prototype.readUInt32LE=function(t,e){return t>>>=0,e||I(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},a.prototype.readUInt32BE=function(t,e){return t>>>=0,e||I(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},a.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||I(t,e,this.length);for(var r=this[t],i=1,s=0;++s<e&&(i*=256);)r+=this[t+s]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},a.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||I(t,e,this.length);for(var r=e,i=1,s=this[t+--r];r>0&&(i*=256);)s+=this[t+--r]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*e)),s},a.prototype.readInt8=function(t,e){return t>>>=0,e||I(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},a.prototype.readInt16LE=function(t,e){t>>>=0,e||I(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt16BE=function(t,e){t>>>=0,e||I(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt32LE=function(t,e){return t>>>=0,e||I(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},a.prototype.readInt32BE=function(t,e){return t>>>=0,e||I(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},a.prototype.readFloatLE=function(t,e){return t>>>=0,e||I(t,4,this.length),i.read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,e){return t>>>=0,e||I(t,4,this.length),i.read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,e){return t>>>=0,e||I(t,8,this.length),i.read(this,t,!0,52,8)},a.prototype.readDoubleBE=function(t,e){return t>>>=0,e||I(t,8,this.length),i.read(this,t,!1,52,8)},a.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e>>>=0,n>>>=0,r)||P(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,s=0;for(this[e]=255&t;++s<n&&(i*=256);)this[e+s]=t/i&255;return e+n},a.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e>>>=0,n>>>=0,r)||P(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,s=1;for(this[e+i]=255&t;--i>=0&&(s*=256);)this[e+i]=t/s&255;return e+n},a.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,1,255,0),this[e]=255&t,e+1},a.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},a.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},a.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},a.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},a.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){var i=Math.pow(2,8*n-1);P(this,t,e,n,i-1,-i)}var s=0,o=1,a=0;for(this[e]=255&t;++s<n&&(o*=256);)t<0&&0===a&&0!==this[e+s-1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+n},a.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){var i=Math.pow(2,8*n-1);P(this,t,e,n,i-1,-i)}var s=n-1,o=1,a=0;for(this[e+s]=255&t;--s>=0&&(o*=256);)t<0&&0===a&&0!==this[e+s+1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+n},a.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},a.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},a.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},a.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},a.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},a.prototype.writeFloatLE=function(t,e,n){return R(this,t,e,!0,n)},a.prototype.writeFloatBE=function(t,e,n){return R(this,t,e,!1,n)},a.prototype.writeDoubleLE=function(t,e,n){return D(this,t,e,!0,n)},a.prototype.writeDoubleBE=function(t,e,n){return D(this,t,e,!1,n)},a.prototype.copy=function(t,e,n,r){if(!a.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i=r-n;if(this===t&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(e,n,r);else if(this===t&&n<e&&e<r)for(var s=i-1;s>=0;--s)t[s+e]=this[s+n];else Uint8Array.prototype.set.call(t,this.subarray(n,r),e);return i},a.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!a.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){var i=t.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(t=i)}}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var s;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(s=e;s<n;++s)this[s]=t;else{var o=a.isBuffer(t)?t:a.from(t,r),c=o.length;if(0===c)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(s=0;s<n-e;++s)this[s+e]=o[s%c]}return this};var _=/[^+\/0-9A-Za-z-_]/g;function M(t){return t<16?"0"+t.toString(16):t.toString(16)}function L(t,e){var n;e=e||1/0;for(var r=t.length,i=null,s=[],o=0;o<r;++o){if((n=t.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===r){(e-=3)>-1&&s.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&s.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;s.push(n)}else if(n<2048){if((e-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function N(t){return r.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(_,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function F(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function q(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function U(t){return t!=t}},{"base64-js":5,ieee754:107}],9:[function(t,e,n){"use strict";const r=t("./src/CanvasSequence.js"),i=t("./src/CanvasBlueprint.js");e.exports={CanvasSequence:r,CanvasBlueprint:i}},{"./src/CanvasBlueprint.js":11,"./src/CanvasSequence.js":12}],10:[function(t,e,n){"use strict";t("core-js/modules/web.dom-collections.iterator");const r={METHOD:"method",PROPERTY:"property"};class i{constructor(t,e){this.inst=t,this.args=e}}const s={[r.METHOD]:class extends i{constructor(t,e){super(t,e),this.type=r.METHOD}execute(t){t[this.inst](...this.args)}},[r.PROPERTY]:class extends i{constructor(t,e){super(t,e),this.type=r.PROPERTY}execute(t){t[this.inst]=this.args[0]}}};class o{constructor(t,e,...n){return new s[t](e,n)}}Object.entries(r).forEach(([t,e])=>{Object.defineProperty(o,t,{value:e,configurable:!1,enumerable:!0,writable:!1})}),e.exports=o},{"core-js/modules/web.dom-collections.iterator":90}],11:[function(t,e,n){"use strict";t("core-js/modules/es.symbol.description"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator");const r=t("./CanvasSequence.js"),i=Object.freeze({sequence:Symbol.for("sequence"),push:Symbol.for("push")});e.exports=class extends r{build(t={}){const e=new r;return this[i.sequence].forEach(({type:n,inst:r,args:s})=>{const o=s.map(e=>"string"==typeof e?function(t,e){const n=t.replace(/^{|}$/g,"");return n!==t?e.hasOwnProperty(n)?e[n]:n:t}(e,t):e);e[i.push](n,r,...o)}),e}execute(){throw new TypeError("Cannot execute a blueprint.")}}},{"./CanvasSequence.js":12,"core-js/modules/es.string.replace":88,"core-js/modules/es.symbol.description":89,"core-js/modules/web.dom-collections.iterator":90}],12:[function(t,e,n){"use strict";t("core-js/modules/es.symbol.description"),t("core-js/modules/web.dom-collections.iterator");const r=t("./CanvasAtom.js"),i=Object.freeze({METHODS:["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","drawFocusIfNeeded","drawImage","ellipse","fill","fillRect","fillText","lineTo","moveTo","putImageData","quadraticCurveTo","rect","resetTransform","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeRect","strokeText","transform","translate"],PROPERTIES:["fillStyle","filter","font","globalAlpha","globalCompositeOperation","imageSmoothingEnabled","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","strokeStyle","textAlign","textBaseline"]}),s=Object.freeze({sequence:Symbol.for("sequence"),push:Symbol.for("push"),fromJSON:Symbol.for("fromJSON")});class o{constructor(t=null){this[s.sequence]=[],t&&this[s.fromJSON](t)}[s.fromJSON](t={}){t.sequence.forEach(({type:t,inst:e,args:n})=>{this[s.push](t,e,...n)})}[s.push](...t){this[s.sequence].push(new r(...t))}execute(t){t.save(),this[s.sequence].forEach(e=>e.execute(t)),t.restore()}toJSON(){return{sequence:this[s.sequence]}}}i.METHODS.forEach(t=>{Object.defineProperty(o.prototype,t,{value:function(...e){this[s.push](r.METHOD,t,...e)},writable:!1,enumerable:!0,configurable:!1})}),i.PROPERTIES.forEach(t=>{Object.defineProperty(o.prototype,t,{get(){throw"Invalid canvas sequencer interaction, cannot get ".concat(t,".")},set(e){this[s.push](r.PROPERTY,t,e)},enumerable:!0,configurable:!1})}),e.exports=o},{"./CanvasAtom.js":10,"core-js/modules/es.symbol.description":89,"core-js/modules/web.dom-collections.iterator":90}],13:[function(t,e,n){var r=[].slice;e.exports=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var n=r.call(arguments,2);return function(){return e.apply(t,n.concat(r.call(arguments)))}}},{}],14:[function(t,e,n){function r(t){if(t)return function(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}(t)}void 0!==e&&(e.exports=r),r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i=0;i<r.length;i++)if((n=r[i])===e||n.fn===e){r.splice(i,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,e);return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},{}],15:[function(t,e,n){e.exports=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],16:[function(t,e,n){var r=t("../internals/well-known-symbol")("unscopables"),i=t("../internals/object-create"),s=t("../internals/hide"),o=Array.prototype;null==o[r]&&s(o,r,i(null)),e.exports=function(t){o[r][t]=!0}},{"../internals/hide":38,"../internals/object-create":51,"../internals/well-known-symbol":84}],17:[function(t,e,n){"use strict";var r=t("../internals/string-at");e.exports=function(t,e,n){return e+(n?r(t,e,!0).length:1)}},{"../internals/string-at":72}],18:[function(t,e,n){var r=t("../internals/is-object");e.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},{"../internals/is-object":44}],19:[function(t,e,n){var r=t("../internals/to-indexed-object"),i=t("../internals/to-length"),s=t("../internals/to-absolute-index");e.exports=function(t){return function(e,n,o){var a,c=r(e),u=i(c.length),l=s(o,u);if(t&&n!=n){for(;u>l;)if((a=c[l++])!=a)return!0}else for(;u>l;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}}},{"../internals/to-absolute-index":75,"../internals/to-indexed-object":76,"../internals/to-length":78}],20:[function(t,e,n){var r={}.toString;e.exports=function(t){return r.call(t).slice(8,-1)}},{}],21:[function(t,e,n){var r=t("../internals/has"),i=t("../internals/own-keys"),s=t("../internals/object-get-own-property-descriptor"),o=t("../internals/object-define-property");e.exports=function(t,e){for(var n=i(e),a=o.f,c=s.f,u=0;u<n.length;u++){var l=n[u];r(t,l)||a(t,l,c(e,l))}}},{"../internals/has":36,"../internals/object-define-property":53,"../internals/object-get-own-property-descriptor":54,"../internals/own-keys":62}],22:[function(t,e,n){var r=t("../internals/well-known-symbol")("match");e.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(t){}}return!1}},{"../internals/well-known-symbol":84}],23:[function(t,e,n){e.exports=!t("../internals/fails")(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},{"../internals/fails":32}],24:[function(t,e,n){"use strict";var r=t("../internals/iterators-core").IteratorPrototype,i=t("../internals/object-create"),s=t("../internals/create-property-descriptor"),o=t("../internals/set-to-string-tag"),a=t("../internals/iterators"),c=function(){return this};e.exports=function(t,e,n){var u=e+" Iterator";return t.prototype=i(r,{next:s(1,n)}),o(t,u,!1,!0),a[u]=c,t}},{"../internals/create-property-descriptor":25,"../internals/iterators":48,"../internals/iterators-core":47,"../internals/object-create":51,"../internals/set-to-string-tag":69}],25:[function(t,e,n){e.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},{}],26:[function(t,e,n){"use strict";var r=t("../internals/export"),i=t("../internals/create-iterator-constructor"),s=t("../internals/object-get-prototype-of"),o=t("../internals/object-set-prototype-of"),a=t("../internals/set-to-string-tag"),c=t("../internals/hide"),u=t("../internals/redefine"),l=t("../internals/is-pure"),h=t("../internals/well-known-symbol")("iterator"),p=t("../internals/iterators"),f=t("../internals/iterators-core"),d=f.IteratorPrototype,y=f.BUGGY_SAFARI_ITERATORS,g=function(){return this};e.exports=function(t,e,n,f,m,b,v){i(n,e,f);var w,x,j,E=function(t){if(t===m&&C)return C;if(!y&&t in A)return A[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},k=e+" Iterator",S=!1,A=t.prototype,T=A[h]||A["@@iterator"]||m&&A[m],C=!y&&T||E(m),O="Array"==e&&A.entries||T;if(O&&(w=s(O.call(new t)),d!==Object.prototype&&w.next&&(l||s(w)===d||(o?o(w,d):"function"!=typeof w[h]&&c(w,h,g)),a(w,k,!0,!0),l&&(p[k]=g))),"values"==m&&T&&"values"!==T.name&&(S=!0,C=function(){return T.call(this)}),l&&!v||A[h]===C||c(A,h,C),p[e]=C,m)if(x={values:E("values"),keys:b?C:E("keys"),entries:E("entries")},v)for(j in x)!y&&!S&&j in A||u(A,j,x[j]);else r({target:e,proto:!0,forced:y||S},x);return x}},{"../internals/create-iterator-constructor":24,"../internals/export":31,"../internals/hide":38,"../internals/is-pure":45,"../internals/iterators":48,"../internals/iterators-core":47,"../internals/object-get-prototype-of":57,"../internals/object-set-prototype-of":61,"../internals/redefine":63,"../internals/set-to-string-tag":69,"../internals/well-known-symbol":84}],27:[function(t,e,n){e.exports=!t("../internals/fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"../internals/fails":32}],28:[function(t,e,n){var r=t("../internals/is-object"),i=t("../internals/global").document,s=r(i)&&r(i.createElement);e.exports=function(t){return s?i.createElement(t):{}}},{"../internals/global":35,"../internals/is-object":44}],29:[function(t,e,n){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],30:[function(t,e,n){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],31:[function(t,e,n){var r=t("../internals/global"),i=t("../internals/object-get-own-property-descriptor").f,s=t("../internals/hide"),o=t("../internals/redefine"),a=t("../internals/set-global"),c=t("../internals/copy-constructor-properties"),u=t("../internals/is-forced");e.exports=function(t,e){var n,l,h,p,f,d=t.target,y=t.global,g=t.stat;if(n=y?r:g?r[d]||a(d,{}):(r[d]||{}).prototype)for(l in e){if(p=e[l],h=t.noTargetGet?(f=i(n,l))&&f.value:n[l],!u(y?l:d+(g?".":"#")+l,t.forced)&&void 0!==h){if(typeof p==typeof h)continue;c(p,h)}(t.sham||h&&h.sham)&&s(p,"sham",!0),o(n,l,p,t)}}},{"../internals/copy-constructor-properties":21,"../internals/global":35,"../internals/hide":38,"../internals/is-forced":43,"../internals/object-get-own-property-descriptor":54,"../internals/redefine":63,"../internals/set-global":68}],32:[function(t,e,n){e.exports=function(t){try{return!!t()}catch(t){return!0}}},{}],33:[function(t,e,n){"use strict";var r=t("../internals/hide"),i=t("../internals/redefine"),s=t("../internals/fails"),o=t("../internals/well-known-symbol"),a=t("../internals/regexp-exec"),c=o("species"),u=!s(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),l=!s(function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]});e.exports=function(t,e,n,h){var p=o(t),f=!s(function(){var e={};return e[p]=function(){return 7},7!=""[t](e)}),d=f&&!s(function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[c]=function(){return n}),n[p](""),!e});if(!f||!d||"replace"===t&&!u||"split"===t&&!l){var y=/./[p],g=n(p,""[t],function(t,e,n,r,i){return e.exec===a?f&&!i?{done:!0,value:y.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),m=g[0],b=g[1];i(String.prototype,t,m),i(RegExp.prototype,p,2==e?function(t,e){return b.call(t,this,e)}:function(t){return b.call(t,this)}),h&&r(RegExp.prototype[p],"sham",!0)}}},{"../internals/fails":32,"../internals/hide":38,"../internals/redefine":63,"../internals/regexp-exec":65,"../internals/well-known-symbol":84}],34:[function(t,e,n){e.exports=t("../internals/shared")("native-function-to-string",Function.toString)},{"../internals/shared":71}],35:[function(t,e,n){e.exports="object"==typeof window&&window&&window.Math==Math?window:"object"==typeof self&&self&&self.Math==Math?self:Function("return this")()},{}],36:[function(t,e,n){var r={}.hasOwnProperty;e.exports=function(t,e){return r.call(t,e)}},{}],37:[function(t,e,n){e.exports={}},{}],38:[function(t,e,n){var r=t("../internals/object-define-property"),i=t("../internals/create-property-descriptor");e.exports=t("../internals/descriptors")?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},{"../internals/create-property-descriptor":25,"../internals/descriptors":27,"../internals/object-define-property":53}],39:[function(t,e,n){var r=t("../internals/global").document;e.exports=r&&r.documentElement},{"../internals/global":35}],40:[function(t,e,n){e.exports=!t("../internals/descriptors")&&!t("../internals/fails")(function(){return 7!=Object.defineProperty(t("../internals/document-create-element")("div"),"a",{get:function(){return 7}}).a})},{"../internals/descriptors":27,"../internals/document-create-element":28,"../internals/fails":32}],41:[function(t,e,n){var r=t("../internals/fails"),i=t("../internals/classof-raw"),s="".split;e.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==i(t)?s.call(t,""):Object(t)}:Object},{"../internals/classof-raw":20,"../internals/fails":32}],42:[function(t,e,n){var r,i,s,o=t("../internals/native-weak-map"),a=t("../internals/is-object"),c=t("../internals/hide"),u=t("../internals/has"),l=t("../internals/shared-key"),h=t("../internals/hidden-keys"),p=t("../internals/global").WeakMap;if(o){var f=new p,d=f.get,y=f.has,g=f.set;r=function(t,e){return g.call(f,t,e),e},i=function(t){return d.call(f,t)||{}},s=function(t){return y.call(f,t)}}else{var m=l("state");h[m]=!0,r=function(t,e){return c(t,m,e),e},i=function(t){return u(t,m)?t[m]:{}},s=function(t){return u(t,m)}}e.exports={set:r,get:i,has:s,enforce:function(t){return s(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!a(e)||(n=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},{"../internals/global":35,"../internals/has":36,"../internals/hidden-keys":37,"../internals/hide":38,"../internals/is-object":44,"../internals/native-weak-map":50,"../internals/shared-key":70}],43:[function(t,e,n){var r=t("../internals/fails"),i=/#|\.prototype\./,s=function(t,e){var n=a[o(t)];return n==u||n!=c&&("function"==typeof e?r(e):!!e)},o=s.normalize=function(t){return String(t).replace(i,".").toLowerCase()},a=s.data={},c=s.NATIVE="N",u=s.POLYFILL="P";e.exports=s},{"../internals/fails":32}],44:[function(t,e,n){e.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},{}],45:[function(t,e,n){e.exports=!1},{}],46:[function(t,e,n){var r=t("../internals/is-object"),i=t("../internals/classof-raw"),s=t("../internals/well-known-symbol")("match");e.exports=function(t){var e;return r(t)&&(void 0!==(e=t[s])?!!e:"RegExp"==i(t))}},{"../internals/classof-raw":20,"../internals/is-object":44,"../internals/well-known-symbol":84}],47:[function(t,e,n){"use strict";var r,i,s,o=t("../internals/object-get-prototype-of"),a=t("../internals/hide"),c=t("../internals/has"),u=t("../internals/is-pure"),l=t("../internals/well-known-symbol")("iterator"),h=!1;[].keys&&("next"in(s=[].keys())?(i=o(o(s)))!==Object.prototype&&(r=i):h=!0),null==r&&(r={}),u||c(r,l)||a(r,l,function(){return this}),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},{"../internals/has":36,"../internals/hide":38,"../internals/is-pure":45,"../internals/object-get-prototype-of":57,"../internals/well-known-symbol":84}],48:[function(t,e,n){e.exports={}},{}],49:[function(t,e,n){e.exports=!t("../internals/fails")(function(){String(Symbol())})},{"../internals/fails":32}],50:[function(t,e,n){var r=t("../internals/function-to-string"),i=t("../internals/global").WeakMap;e.exports="function"==typeof i&&/native code/.test(r.call(i))},{"../internals/function-to-string":34,"../internals/global":35}],51:[function(t,e,n){var r=t("../internals/an-object"),i=t("../internals/object-define-properties"),s=t("../internals/enum-bug-keys"),o=t("../internals/html"),a=t("../internals/document-create-element"),c=t("../internals/shared-key")("IE_PROTO"),u=function(){},l=function(){var t,e=a("iframe"),n=s.length;for(e.style.display="none",o.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;n--;)delete l.prototype[s[n]];return l()};e.exports=Object.create||function(t,e){var n;return null!==t?(u.prototype=r(t),n=new u,u.prototype=null,n[c]=t):n=l(),void 0===e?n:i(n,e)},t("../internals/hidden-keys")[c]=!0},{"../internals/an-object":18,"../internals/document-create-element":28,"../internals/enum-bug-keys":30,"../internals/hidden-keys":37,"../internals/html":39,"../internals/object-define-properties":52,"../internals/shared-key":70}],52:[function(t,e,n){var r=t("../internals/descriptors"),i=t("../internals/object-define-property"),s=t("../internals/an-object"),o=t("../internals/object-keys");e.exports=r?Object.defineProperties:function(t,e){s(t);for(var n,r=o(e),a=r.length,c=0;a>c;)i.f(t,n=r[c++],e[n]);return t}},{"../internals/an-object":18,"../internals/descriptors":27,"../internals/object-define-property":53,"../internals/object-keys":59}],53:[function(t,e,n){var r=t("../internals/descriptors"),i=t("../internals/ie8-dom-define"),s=t("../internals/an-object"),o=t("../internals/to-primitive"),a=Object.defineProperty;n.f=r?a:function(t,e,n){if(s(t),e=o(e,!0),s(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},{"../internals/an-object":18,"../internals/descriptors":27,"../internals/ie8-dom-define":40,"../internals/to-primitive":80}],54:[function(t,e,n){var r=t("../internals/descriptors"),i=t("../internals/object-property-is-enumerable"),s=t("../internals/create-property-descriptor"),o=t("../internals/to-indexed-object"),a=t("../internals/to-primitive"),c=t("../internals/has"),u=t("../internals/ie8-dom-define"),l=Object.getOwnPropertyDescriptor;n.f=r?l:function(t,e){if(t=o(t),e=a(e,!0),u)try{return l(t,e)}catch(t){}if(c(t,e))return s(!i.f.call(t,e),t[e])}},{"../internals/create-property-descriptor":25,"../internals/descriptors":27,"../internals/has":36,"../internals/ie8-dom-define":40,"../internals/object-property-is-enumerable":60,"../internals/to-indexed-object":76,"../internals/to-primitive":80}],55:[function(t,e,n){var r=t("../internals/object-keys-internal"),i=t("../internals/enum-bug-keys").concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},{"../internals/enum-bug-keys":30,"../internals/object-keys-internal":58}],56:[function(t,e,n){n.f=Object.getOwnPropertySymbols},{}],57:[function(t,e,n){var r=t("../internals/has"),i=t("../internals/to-object"),s=t("../internals/shared-key")("IE_PROTO"),o=t("../internals/correct-prototype-getter"),a=Object.prototype;e.exports=o?Object.getPrototypeOf:function(t){return t=i(t),r(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},{"../internals/correct-prototype-getter":23,"../internals/has":36,"../internals/shared-key":70,"../internals/to-object":79}],58:[function(t,e,n){var r=t("../internals/has"),i=t("../internals/to-indexed-object"),s=t("../internals/array-includes")(!1),o=t("../internals/hidden-keys");e.exports=function(t,e){var n,a=i(t),c=0,u=[];for(n in a)!r(o,n)&&r(a,n)&&u.push(n);for(;e.length>c;)r(a,n=e[c++])&&(~s(u,n)||u.push(n));return u}},{"../internals/array-includes":19,"../internals/has":36,"../internals/hidden-keys":37,"../internals/to-indexed-object":76}],59:[function(t,e,n){var r=t("../internals/object-keys-internal"),i=t("../internals/enum-bug-keys");e.exports=Object.keys||function(t){return r(t,i)}},{"../internals/enum-bug-keys":30,"../internals/object-keys-internal":58}],60:[function(t,e,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,s=i&&!r.call({1:2},1);n.f=s?function(t){var e=i(this,t);return!!e&&e.enumerable}:r},{}],61:[function(t,e,n){var r=t("../internals/validate-set-prototype-of-arguments");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,i){return r(n,i),e?t.call(n,i):n.__proto__=i,n}}():void 0)},{"../internals/validate-set-prototype-of-arguments":82}],62:[function(t,e,n){var r=t("../internals/object-get-own-property-names"),i=t("../internals/object-get-own-property-symbols"),s=t("../internals/an-object"),o=t("../internals/global").Reflect;e.exports=o&&o.ownKeys||function(t){var e=r.f(s(t)),n=i.f;return n?e.concat(n(t)):e}},{"../internals/an-object":18,"../internals/global":35,"../internals/object-get-own-property-names":55,"../internals/object-get-own-property-symbols":56}],63:[function(t,e,n){var r=t("../internals/global"),i=t("../internals/hide"),s=t("../internals/has"),o=t("../internals/set-global"),a=t("../internals/function-to-string"),c=t("../internals/internal-state"),u=c.get,l=c.enforce,h=String(a).split("toString");t("../internals/shared")("inspectSource",function(t){return a.call(t)}),(e.exports=function(t,e,n,a){var c=!!a&&!!a.unsafe,u=!!a&&!!a.enumerable,p=!!a&&!!a.noTargetGet;"function"==typeof n&&("string"!=typeof e||s(n,"name")||i(n,"name",e),l(n).source=h.join("string"==typeof e?e:"")),t!==r?(c?!p&&t[e]&&(u=!0):delete t[e],u?t[e]=n:i(t,e,n)):u?t[e]=n:o(e,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&u(this).source||a.call(this)})},{"../internals/function-to-string":34,"../internals/global":35,"../internals/has":36,"../internals/hide":38,"../internals/internal-state":42,"../internals/set-global":68,"../internals/shared":71}],64:[function(t,e,n){var r=t("./classof-raw"),i=t("./regexp-exec");e.exports=function(t,e){var n=t.exec;if("function"==typeof n){var s=n.call(t,e);if("object"!=typeof s)throw TypeError("RegExp exec method returned something other than an Object or null");return s}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},{"./classof-raw":20,"./regexp-exec":65}],65:[function(t,e,n){"use strict";var r,i,s=t("./regexp-flags"),o=RegExp.prototype.exec,a=String.prototype.replace,c=o,u=(r=/a/,i=/b*/g,o.call(r,"a"),o.call(i,"a"),0!==r.lastIndex||0!==i.lastIndex),l=void 0!==/()??/.exec("")[1];(u||l)&&(c=function(t){var e,n,r,i,c=this;return l&&(n=new RegExp("^"+c.source+"$(?!\\s)",s.call(c))),u&&(e=c.lastIndex),r=o.call(c,t),u&&r&&(c.lastIndex=c.global?r.index+r[0].length:e),l&&r&&r.length>1&&a.call(r[0],n,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)}),r}),e.exports=c},{"./regexp-flags":66}],66:[function(t,e,n){"use strict";var r=t("../internals/an-object");e.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},{"../internals/an-object":18}],67:[function(t,e,n){e.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},{}],68:[function(t,e,n){var r=t("../internals/global"),i=t("../internals/hide");e.exports=function(t,e){try{i(r,t,e)}catch(n){r[t]=e}return e}},{"../internals/global":35,"../internals/hide":38}],69:[function(t,e,n){var r=t("../internals/object-define-property").f,i=t("../internals/has"),s=t("../internals/well-known-symbol")("toStringTag");e.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,s)&&r(t,s,{configurable:!0,value:e})}},{"../internals/has":36,"../internals/object-define-property":53,"../internals/well-known-symbol":84}],70:[function(t,e,n){var r=t("../internals/shared")("keys"),i=t("../internals/uid");e.exports=function(t){return r[t]||(r[t]=i(t))}},{"../internals/shared":71,"../internals/uid":81}],71:[function(t,e,n){var r=t("../internals/global"),i=t("../internals/set-global"),s=r["__core-js_shared__"]||i("__core-js_shared__",{});(e.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.0.0",mode:t("../internals/is-pure")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},{"../internals/global":35,"../internals/is-pure":45,"../internals/set-global":68}],72:[function(t,e,n){var r=t("../internals/to-integer"),i=t("../internals/require-object-coercible");e.exports=function(t,e,n){var s,o,a=String(i(t)),c=r(e),u=a.length;return c<0||c>=u?n?"":void 0:(s=a.charCodeAt(c))<55296||s>56319||c+1===u||(o=a.charCodeAt(c+1))<56320||o>57343?n?a.charAt(c):s:n?a.slice(c,c+2):o-56320+(s-55296<<10)+65536}},{"../internals/require-object-coercible":67,"../internals/to-integer":77}],73:[function(t,e,n){"use strict";var r=t("../internals/to-integer"),i=t("../internals/require-object-coercible");e.exports="".repeat||function(t){var e=String(i(this)),n="",s=r(t);if(s<0||s==1/0)throw RangeError("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(e+=e))1&s&&(n+=e);return n}},{"../internals/require-object-coercible":67,"../internals/to-integer":77}],74:[function(t,e,n){var r=t("../internals/classof-raw");e.exports=function(t){if("number"!=typeof t&&"Number"!=r(t))throw TypeError("Incorrect invocation");return+t}},{"../internals/classof-raw":20}],75:[function(t,e,n){var r=t("../internals/to-integer"),i=Math.max,s=Math.min;e.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):s(n,e)}},{"../internals/to-integer":77}],76:[function(t,e,n){var r=t("../internals/indexed-object"),i=t("../internals/require-object-coercible");e.exports=function(t){return r(i(t))}},{"../internals/indexed-object":41,"../internals/require-object-coercible":67}],77:[function(t,e,n){var r=Math.ceil,i=Math.floor;e.exports=function(t){return isNaN(t=+t)?0:(t>0?i:r)(t)}},{}],78:[function(t,e,n){var r=t("../internals/to-integer"),i=Math.min;e.exports=function(t){return t>0?i(r(t),9007199254740991):0}},{"../internals/to-integer":77}],79:[function(t,e,n){var r=t("../internals/require-object-coercible");e.exports=function(t){return Object(r(t))}},{"../internals/require-object-coercible":67}],80:[function(t,e,n){var r=t("../internals/is-object");e.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":44}],81:[function(t,e,n){var r=0,i=Math.random();e.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+i).toString(36))}},{}],82:[function(t,e,n){var r=t("../internals/is-object"),i=t("../internals/an-object");e.exports=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}},{"../internals/an-object":18,"../internals/is-object":44}],83:[function(t,e,n){var r=t("../internals/is-regexp"),i=t("../internals/require-object-coercible");e.exports=function(t,e,n){if(r(e))throw TypeError("String.prototype."+n+" doesn't accept regex");return String(i(t))}},{"../internals/is-regexp":46,"../internals/require-object-coercible":67}],84:[function(t,e,n){var r=t("../internals/shared")("wks"),i=t("../internals/uid"),s=t("../internals/global").Symbol,o=t("../internals/native-symbol");e.exports=function(t){return r[t]||(r[t]=o&&s[t]||(o?s:i)("Symbol."+t))}},{"../internals/global":35,"../internals/native-symbol":49,"../internals/shared":71,"../internals/uid":81}],85:[function(t,e,n){"use strict";var r=t("../internals/to-indexed-object"),i=t("../internals/add-to-unscopables"),s=t("../internals/iterators"),o=t("../internals/internal-state"),a=t("../internals/define-iterator"),c=o.set,u=o.getterFor("Array Iterator");e.exports=a(Array,"Array",function(t,e){c(this,{type:"Array Iterator",target:r(t),index:0,kind:e})},function(){var t=u(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}},"values"),s.Arguments=s.Array,i("keys"),i("values"),i("entries")},{"../internals/add-to-unscopables":16,"../internals/define-iterator":26,"../internals/internal-state":42,"../internals/iterators":48,"../internals/to-indexed-object":76}],86:[function(t,e,n){"use strict";var r=t("../internals/to-integer"),i=t("../internals/this-number-value"),s=t("../internals/string-repeat"),o=1..toFixed,a=Math.floor,c=[0,0,0,0,0,0],u=function(t,e){for(var n=-1,r=e;++n<6;)r+=t*c[n],c[n]=r%1e7,r=a(r/1e7)},l=function(t){for(var e=6,n=0;--e>=0;)n+=c[e],c[e]=a(n/t),n=n%t*1e7},h=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==c[t]){var n=String(c[t]);e=""===e?n:e+s.call("0",7-n.length)+n}return e},p=function(t,e,n){return 0===e?n:e%2==1?p(t,e-1,n*t):p(t*t,e/2,n)};t("../internals/export")({target:"Number",proto:!0,forced:o&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!t("../internals/fails")(function(){o.call({})})},{toFixed:function(t){var e,n,o,a,c=i(this),f=r(t),d="",y="0";if(f<0||f>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(d="-",c=-c),c>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(c*p(2,69,1))-69)<0?c*p(2,-e,1):c/p(2,e,1),n*=4503599627370496,(e=52-e)>0){for(u(0,n),o=f;o>=7;)u(1e7,0),o-=7;for(u(p(10,o,1),0),o=e-1;o>=23;)l(1<<23),o-=23;l(1<<o),u(1,1),l(2),y=h()}else u(0,n),u(1<<-e,0),y=h()+s.call("0",f);return y=f>0?d+((a=y.length)<=f?"0."+s.call("0",f-a)+y:y.slice(0,a-f)+"."+y.slice(a-f)):d+y}})},{"../internals/export":31,"../internals/fails":32,"../internals/string-repeat":73,"../internals/this-number-value":74,"../internals/to-integer":77}],87:[function(t,e,n){"use strict";var r=t("../internals/validate-string-method-arguments"),i=t("../internals/correct-is-regexp-logic")("includes");t("../internals/export")({target:"String",proto:!0,forced:!i},{includes:function(t){return!!~r(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":22,"../internals/export":31,"../internals/validate-string-method-arguments":83}],88:[function(t,e,n){"use strict";var r=t("../internals/an-object"),i=t("../internals/to-object"),s=t("../internals/to-length"),o=t("../internals/to-integer"),a=t("../internals/require-object-coercible"),c=t("../internals/advance-string-index"),u=t("../internals/regexp-exec-abstract"),l=Math.max,h=Math.min,p=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,d=/\$([$&`']|\d\d?)/g;t("../internals/fix-regexp-well-known-symbol-logic")("replace",2,function(t,e,n){return[function(n,r){var i=a(this),s=null==n?void 0:n[t];return void 0!==s?s.call(n,i,r):e.call(String(i),n,r)},function(t,i){var a=n(e,t,this,i);if(a.done)return a.value;var p=r(t),f=String(this),d="function"==typeof i;d||(i=String(i));var g=p.global;if(g){var m=p.unicode;p.lastIndex=0}for(var b=[];;){var v=u(p,f);if(null===v)break;if(b.push(v),!g)break;""===String(v[0])&&(p.lastIndex=c(f,s(p.lastIndex),m))}for(var w,x="",j=0,E=0;E<b.length;E++){v=b[E];for(var k=String(v[0]),S=l(h(o(v.index),f.length),0),A=[],T=1;T<v.length;T++)A.push(void 0===(w=v[T])?w:String(w));var C=v.groups;if(d){var O=[k].concat(A,S,f);void 0!==C&&O.push(C);var I=String(i.apply(void 0,O))}else I=y(k,f,S,A,C,i);S>=j&&(x+=f.slice(j,S)+I,j=S+k.length)}return x+f.slice(j)}];function y(t,n,r,s,o,a){var c=r+t.length,u=s.length,l=d;return void 0!==o&&(o=i(o),l=f),e.call(a,l,function(e,i){var a;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,r);case"'":return n.slice(c);case"<":a=o[i.slice(1,-1)];break;default:var l=+i;if(0===l)return e;if(l>u){var h=p(l/10);return 0===h?e:h<=u?void 0===s[h-1]?i.charAt(1):s[h-1]+i.charAt(1):e}a=s[l-1]}return void 0===a?"":a})}})},{"../internals/advance-string-index":17,"../internals/an-object":18,"../internals/fix-regexp-well-known-symbol-logic":33,"../internals/regexp-exec-abstract":64,"../internals/require-object-coercible":67,"../internals/to-integer":77,"../internals/to-length":78,"../internals/to-object":79}],89:[function(t,e,n){"use strict";var r=t("../internals/descriptors"),i=t("../internals/has"),s=t("../internals/is-object"),o=t("../internals/object-define-property").f,a=t("../internals/copy-constructor-properties"),c=t("../internals/global").Symbol;if(r&&"function"==typeof c&&(!("description"in c.prototype)||void 0!==c().description)){var u={},l=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof l?new c(t):void 0===t?c():c(t);return""===t&&(u[e]=!0),e};a(l,c);var h=l.prototype=c.prototype;h.constructor=l;var p=h.toString,f="Symbol(test)"==String(c("test")),d=/^Symbol\((.*)\)[^)]+$/;o(h,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=p.call(t);if(i(u,t))return"";var n=f?e.slice(7,-1):e.replace(d,"$1");return""===n?void 0:n}}),t("../internals/export")({global:!0,forced:!0},{Symbol:l})}},{"../internals/copy-constructor-properties":21,"../internals/descriptors":27,"../internals/export":31,"../internals/global":35,"../internals/has":36,"../internals/is-object":44,"../internals/object-define-property":53}],90:[function(t,e,n){var r=t("../internals/dom-iterables"),i=t("../modules/es.array.iterator"),s=t("../internals/global"),o=t("../internals/hide"),a=t("../internals/well-known-symbol"),c=a("iterator"),u=a("toStringTag"),l=i.values;for(var h in r){var p=s[h],f=p&&p.prototype;if(f){if(f[c]!==l)try{o(f,c,l)}catch(t){f[c]=l}if(f[u]||o(f,u,h),r[h])for(var d in i)if(f[d]!==i[d])try{o(f,d,i[d])}catch(t){f[d]=i[d]}}}},{"../internals/dom-iterables":29,"../internals/global":35,"../internals/hide":38,"../internals/well-known-symbol":84,"../modules/es.array.iterator":85}],91:[function(t,e,n){e.exports=t("./socket"),e.exports.parser=t("engine.io-parser")},{"./socket":92,"engine.io-parser":102}],92:[function(t,e,n){var r=t("./transports/index"),i=t("component-emitter"),s=t("debug")("engine.io-client:socket"),o=t("indexof"),a=t("engine.io-parser"),c=t("parseuri"),u=t("parseqs");function l(t,e){if(!(this instanceof l))return new l(t,e);e=e||{},t&&"object"==typeof t&&(e=t,t=null),t?(t=c(t),e.hostname=t.host,e.secure="https"===t.protocol||"wss"===t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=c(e.host).host),this.secure=null!=e.secure?e.secure:"undefined"!=typeof location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.agent=e.agent||!1,this.hostname=e.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=e.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=e.query||{},"string"==typeof this.query&&(this.query=u.decode(this.query)),this.upgrade=!1!==e.upgrade,this.path=(e.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!e.forceJSONP,this.jsonp=!1!==e.jsonp,this.forceBase64=!!e.forceBase64,this.enablesXDR=!!e.enablesXDR,this.timestampParam=e.timestampParam||"t",this.timestampRequests=e.timestampRequests,this.transports=e.transports||["polling","websocket"],this.transportOptions=e.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=e.policyPort||843,this.rememberUpgrade=e.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=e.onlyBinaryUpgrades,this.perMessageDeflate=!1!==e.perMessageDeflate&&(e.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=e.pfx||null,this.key=e.key||null,this.passphrase=e.passphrase||null,this.cert=e.cert||null,this.ca=e.ca||null,this.ciphers=e.ciphers||null,this.rejectUnauthorized=void 0===e.rejectUnauthorized||e.rejectUnauthorized,this.forceNode=!!e.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"==typeof self||this.isReactNative)&&(e.extraHeaders&&Object.keys(e.extraHeaders).length>0&&(this.extraHeaders=e.extraHeaders),e.localAddress&&(this.localAddress=e.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}e.exports=l,l.priorWebsocketSuccess=!1,i(l.prototype),l.protocol=a.protocol,l.Socket=l,l.Transport=t("./transport"),l.transports=t("./transports/index"),l.parser=t("engine.io-parser"),l.prototype.createTransport=function(t){s('creating transport "%s"',t);var e=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}(this.query);e.EIO=a.protocol,e.transport=t;var n=this.transportOptions[t]||{};return this.id&&(e.sid=this.id),new r[t]({query:e,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative})},l.prototype.open=function(){var t;if(this.rememberUpgrade&&l.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length){var e=this;return void setTimeout(function(){e.emit("error","No transports available")},0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},l.prototype.setTransport=function(t){s("setting transport %s",t.name);var e=this;this.transport&&(s("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",function(){e.onDrain()}).on("packet",function(t){e.onPacket(t)}).on("error",function(t){e.onError(t)}).on("close",function(){e.onClose("transport close")})},l.prototype.probe=function(t){s('probing transport "%s"',t);var e=this.createTransport(t,{probe:1}),n=!1,r=this;function i(){if(r.onlyBinaryUpgrades){var i=!this.supportsBinary&&r.transport.supportsBinary;n=n||i}n||(s('probe transport "%s" opened',t),e.send([{type:"ping",data:"probe"}]),e.once("packet",function(i){if(!n)if("pong"===i.type&&"probe"===i.data){if(s('probe transport "%s" pong',t),r.upgrading=!0,r.emit("upgrading",e),!e)return;l.priorWebsocketSuccess="websocket"===e.name,s('pausing current transport "%s"',r.transport.name),r.transport.pause(function(){n||"closed"!==r.readyState&&(s("changing transport and sending upgrade packet"),p(),r.setTransport(e),e.send([{type:"upgrade"}]),r.emit("upgrade",e),e=null,r.upgrading=!1,r.flush())})}else{s('probe transport "%s" failed',t);var o=new Error("probe error");o.transport=e.name,r.emit("upgradeError",o)}}))}function o(){n||(n=!0,p(),e.close(),e=null)}function a(n){var i=new Error("probe error: "+n);i.transport=e.name,o(),s('probe transport "%s" failed because of error: %s',t,n),r.emit("upgradeError",i)}function c(){a("transport closed")}function u(){a("socket closed")}function h(t){e&&t.name!==e.name&&(s('"%s" works - aborting "%s"',t.name,e.name),o())}function p(){e.removeListener("open",i),e.removeListener("error",a),e.removeListener("close",c),r.removeListener("close",u),r.removeListener("upgrading",h)}l.priorWebsocketSuccess=!1,e.once("open",i),e.once("error",a),e.once("close",c),this.once("close",u),this.once("upgrading",h),e.open()},l.prototype.onOpen=function(){if(s("socket open"),this.readyState="open",l.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){s("starting upgrade probes");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},l.prototype.onPacket=function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(s('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else s('packet received with socket readyState "%s"',this.readyState)},l.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},l.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout(function(){"closed"!==e.readyState&&e.onClose("ping timeout")},t||e.pingInterval+e.pingTimeout)},l.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout(function(){s("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)},t.pingInterval)},l.prototype.ping=function(){var t=this;this.sendPacket("ping",function(){t.emit("ping")})},l.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},l.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(s("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},l.prototype.write=l.prototype.send=function(t,e,n){return this.sendPacket("message",t,e,n),this},l.prototype.sendPacket=function(t,e,n,r){if("function"==typeof e&&(r=e,e=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var i={type:t,data:e,options:n};this.emit("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}},l.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var t=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?r():e()}):this.upgrading?r():e()}function e(){t.onClose("forced close"),s("socket closing - telling transport to close"),t.transport.close()}function n(){t.removeListener("upgrade",n),t.removeListener("upgradeError",n),e()}function r(){t.once("upgrade",n),t.once("upgradeError",n)}return this},l.prototype.onError=function(t){s("socket error %j",t),l.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},l.prototype.onClose=function(t,e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){s('socket close with reason: "%s"',t);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),this.writeBuffer=[],this.prevBufferLen=0}},l.prototype.filterUpgrades=function(t){for(var e=[],n=0,r=t.length;n<r;n++)~o(this.transports,t[n])&&e.push(t[n]);return e}},{"./transport":93,"./transports/index":94,"component-emitter":14,debug:100,"engine.io-parser":102,indexof:108,parseqs:111,parseuri:112}],93:[function(t,e,n){var r=t("engine.io-parser"),i=t("component-emitter");function s(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.forceNode=t.forceNode,this.isReactNative=t.isReactNative,this.extraHeaders=t.extraHeaders,this.localAddress=t.localAddress}e.exports=s,i(s.prototype),s.prototype.onError=function(t,e){var n=new Error(t);return n.type="TransportError",n.description=e,this.emit("error",n),this},s.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},s.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},s.prototype.send=function(t){if("open"!==this.readyState)throw new Error("Transport not open");this.write(t)},s.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},s.prototype.onData=function(t){var e=r.decodePacket(t,this.socket.binaryType);this.onPacket(e)},s.prototype.onPacket=function(t){this.emit("packet",t)},s.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":14,"engine.io-parser":102}],94:[function(t,e,n){var r=t("xmlhttprequest-ssl"),i=t("./polling-xhr"),s=t("./polling-jsonp"),o=t("./websocket");n.polling=function(t){var e=!1,n=!1,o=!1!==t.jsonp;if("undefined"!=typeof location){var a="https:"===location.protocol,c=location.port;c||(c=a?443:80),e=t.hostname!==location.hostname||c!==t.port,n=t.secure!==a}if(t.xdomain=e,t.xscheme=n,"open"in new r(t)&&!t.forceJSONP)return new i(t);if(!o)throw new Error("JSONP disabled");return new s(t)},n.websocket=o},{"./polling-jsonp":95,"./polling-xhr":96,"./websocket":98,"xmlhttprequest-ssl":99}],95:[function(t,e,n){(function(n){var r=t("./polling"),i=t("component-inherit");e.exports=l;var s,o=/\n/g,a=/\\n/g;function c(){}function u(){return"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n?n:{}}function l(t){if(r.call(this,t),this.query=this.query||{},!s){var e=u();s=e.___eio=e.___eio||[]}this.index=s.length;var n=this;s.push(function(t){n.onData(t)}),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",function(){n.script&&(n.script.onerror=c)},!1)}i(l,r),l.prototype.supportsBinary=!1,l.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),r.prototype.doClose.call(this)},l.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(e,n):(document.head||document.body).appendChild(e),this.script=e,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)},100)},l.prototype.doWrite=function(t,e){var n=this;if(!this.form){var r,i=document.createElement("form"),s=document.createElement("textarea"),c=this.iframeId="eio_iframe_"+this.index;i.className="socketio",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",i.target=c,i.method="POST",i.setAttribute("accept-charset","utf-8"),s.name="d",i.appendChild(s),document.body.appendChild(i),this.form=i,this.area=s}function u(){l(),e()}function l(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(t){n.onError("jsonp polling iframe removal error",t)}try{var t='<iframe src="javascript:0" name="'+n.iframeId+'">';r=document.createElement(t)}catch(t){(r=document.createElement("iframe")).name=n.iframeId,r.src="javascript:0"}r.id=n.iframeId,n.form.appendChild(r),n.iframe=r}this.form.action=this.uri(),l(),t=t.replace(a,"\\\n"),this.area.value=t.replace(o,"\\n");try{this.form.submit()}catch(t){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&u()}:this.iframe.onload=u}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":97,"component-inherit":15}],96:[function(t,e,n){var r=t("xmlhttprequest-ssl"),i=t("./polling"),s=t("component-emitter"),o=t("component-inherit"),a=t("debug")("engine.io-client:polling-xhr");function c(){}function u(t){if(i.call(this,t),this.requestTimeout=t.requestTimeout,this.extraHeaders=t.extraHeaders,"undefined"!=typeof location){var e="https:"===location.protocol,n=location.port;n||(n=e?443:80),this.xd="undefined"!=typeof location&&t.hostname!==location.hostname||n!==t.port,this.xs=t.secure!==e}}function l(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}if(e.exports=u,e.exports.Request=l,o(u,i),u.prototype.supportsBinary=!0,u.prototype.request=function(t){return(t=t||{}).uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new l(t)},u.prototype.doWrite=function(t,e){var n="string"!=typeof t&&void 0!==t,r=this.request({method:"POST",data:t,isBinary:n}),i=this;r.on("success",e),r.on("error",function(t){i.onError("xhr post error",t)}),this.sendXhr=r},u.prototype.doPoll=function(){a("xhr poll");var t=this.request(),e=this;t.on("data",function(t){e.onData(t)}),t.on("error",function(t){e.onError("xhr poll error",t)}),this.pollXhr=t},s(l.prototype),l.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var e=this.xhr=new r(t),n=this;try{a("xhr open %s: %s",this.method,this.uri),e.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var i in e.setDisableHeaderCheck&&e.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(i)&&e.setRequestHeader(i,this.extraHeaders[i])}catch(t){}if("POST"===this.method)try{this.isBinary?e.setRequestHeader("Content-type","application/octet-stream"):e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{e.setRequestHeader("Accept","*/*")}catch(t){}"withCredentials"in e&&(e.withCredentials=!0),this.requestTimeout&&(e.timeout=this.requestTimeout),this.hasXDR()?(e.onload=function(){n.onLoad()},e.onerror=function(){n.onError(e.responseText)}):e.onreadystatechange=function(){if(2===e.readyState)try{var t=e.getResponseHeader("Content-Type");n.supportsBinary&&"application/octet-stream"===t&&(e.responseType="arraybuffer")}catch(t){}4===e.readyState&&(200===e.status||1223===e.status?n.onLoad():setTimeout(function(){n.onError(e.status)},0))},a("xhr data %s",this.data),e.send(this.data)}catch(t){return void setTimeout(function(){n.onError(t)},0)}"undefined"!=typeof document&&(this.index=l.requestsCount++,l.requests[this.index]=this)},l.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},l.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},l.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},l.prototype.cleanup=function(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=c:this.xhr.onreadystatechange=c,t)try{this.xhr.abort()}catch(t){}"undefined"!=typeof document&&delete l.requests[this.index],this.xhr=null}},l.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type")}catch(t){}t="application/octet-stream"===e&&this.xhr.response||this.xhr.responseText}catch(t){this.onError(t)}null!=t&&this.onData(t)},l.prototype.hasXDR=function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR},l.prototype.abort=function(){this.cleanup()},l.requestsCount=0,l.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",p);else if("function"==typeof addEventListener){var h="onpagehide"in self?"pagehide":"unload";addEventListener(h,p,!1)}function p(){for(var t in l.requests)l.requests.hasOwnProperty(t)&&l.requests[t].abort()}},{"./polling":97,"component-emitter":14,"component-inherit":15,debug:100,"xmlhttprequest-ssl":99}],97:[function(t,e,n){var r=t("../transport"),i=t("parseqs"),s=t("engine.io-parser"),o=t("component-inherit"),a=t("yeast"),c=t("debug")("engine.io-client:polling");e.exports=l;var u=null!=new(t("xmlhttprequest-ssl"))({xdomain:!1}).responseType;function l(t){var e=t&&t.forceBase64;u&&!e||(this.supportsBinary=!1),r.call(this,t)}o(l,r),l.prototype.name="polling",l.prototype.doOpen=function(){this.poll()},l.prototype.pause=function(t){var e=this;function n(){c("paused"),e.readyState="paused",t()}if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(c("we are currently polling - waiting to pause"),r++,this.once("pollComplete",function(){c("pre-pause polling complete"),--r||n()})),this.writable||(c("we are currently writing - waiting to pause"),r++,this.once("drain",function(){c("pre-pause writing complete"),--r||n()}))}else n()},l.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},l.prototype.onData=function(t){var e=this;c("polling got data %s",t);s.decodePayload(t,this.socket.binaryType,function(t,n,r){if("opening"===e.readyState&&e.onOpen(),"close"===t.type)return e.onClose(),!1;e.onPacket(t)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},l.prototype.doClose=function(){var t=this;function e(){c("writing close packet"),t.write([{type:"close"}])}"open"===this.readyState?(c("transport open - closing"),e()):(c("transport not open - deferring close"),this.once("open",e))},l.prototype.write=function(t){var e=this;this.writable=!1;var n=function(){e.writable=!0,e.emit("drain")};s.encodePayload(t,this.supportsBinary,function(t){e.doWrite(t,n)})},l.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(t[this.timestampParam]=a()),this.supportsBinary||t.sid||(t.b64=1),t=i.encode(t),this.port&&("https"===e&&443!==Number(this.port)||"http"===e&&80!==Number(this.port))&&(n=":"+this.port),t.length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t}},{"../transport":93,"component-inherit":15,debug:100,"engine.io-parser":102,parseqs:111,"xmlhttprequest-ssl":99,yeast:146}],98:[function(t,e,n){(function(n){var r,i,s=t("../transport"),o=t("engine.io-parser"),a=t("parseqs"),c=t("component-inherit"),u=t("yeast"),l=t("debug")("engine.io-client:websocket");if("undefined"==typeof self)try{i=t("ws")}catch(t){}else r=self.WebSocket||self.MozWebSocket;var h=r||i;function p(t){t&&t.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=r&&!t.forceNode,this.protocols=t.protocols,this.usingBrowserWebSocket||(h=i),s.call(this,t)}e.exports=p,c(p,s),p.prototype.name="websocket",p.prototype.supportsBinary=!0,p.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?e?new h(t,e):new h(t):new h(t,e,n)}catch(t){return this.emit("error",t)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},p.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},p.prototype.write=function(t){var e=this;this.writable=!1;for(var r=t.length,i=0,s=r;i<s;i++)!function(t){o.encodePacket(t,e.supportsBinary,function(i){if(!e.usingBrowserWebSocket){var s={};if(t.options&&(s.compress=t.options.compress),e.perMessageDeflate)("string"==typeof i?n.byteLength(i):i.length)<e.perMessageDeflate.threshold&&(s.compress=!1)}try{e.usingBrowserWebSocket?e.ws.send(i):e.ws.send(i,s)}catch(t){l("websocket closed before onclose event")}--r||a()})}(t[i]);function a(){e.emit("flush"),setTimeout(function(){e.writable=!0,e.emit("drain")},0)}},p.prototype.onClose=function(){s.prototype.onClose.call(this)},p.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},p.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",n="";return this.port&&("wss"===e&&443!==Number(this.port)||"ws"===e&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=u()),this.supportsBinary||(t.b64=1),(t=a.encode(t)).length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t},p.prototype.check=function(){return!(!h||"__initialize"in h&&this.name===p.prototype.name)}}).call(this,t("buffer").Buffer)},{"../transport":93,buffer:8,"component-inherit":15,debug:100,"engine.io-parser":102,parseqs:111,ws:7,yeast:146}],99:[function(t,e,n){var r=t("has-cors");e.exports=function(t){var e=t.xdomain,n=t.xscheme,i=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!e||r))return new XMLHttpRequest}catch(t){}try{if("undefined"!=typeof XDomainRequest&&!n&&i)return new XDomainRequest}catch(t){}if(!e)try{return new(self[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}},{"has-cors":106}],100:[function(t,e,n){(function(r){function i(){var t;try{t=n.storage.debug}catch(t){}return!t&&void 0!==r&&"env"in r&&(t=r.env.DEBUG),t}(n=e.exports=t("./debug")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},n.formatArgs=function(t){var e=this.useColors;if(t[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+t[0]+(e?"%c ":" ")+"+"+n.humanize(this.diff),!e)return;var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var i=0,s=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(i++,"%c"===t&&(s=i))}),t.splice(s,0,r)},n.save=function(t){try{null==t?n.storage.removeItem("debug"):n.storage.debug=t}catch(t){}},n.load=i,n.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},n.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),n.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],n.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},n.enable(i())}).call(this,t("_process"))},{"./debug":101,_process:113}],101:[function(t,e,n){function r(t){var e;function r(){if(r.enabled){var t=r,i=+new Date,s=i-(e||i);t.diff=s,t.prev=e,t.curr=i,e=i;for(var o=new Array(arguments.length),a=0;a<o.length;a++)o[a]=arguments[a];o[0]=n.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var c=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(e,r){if("%%"===e)return e;c++;var i=n.formatters[r];if("function"==typeof i){var s=o[c];e=i.call(t,s),o.splice(c,1),c--}return e}),n.formatArgs.call(t,o),(r.log||n.log||console.log.bind(console)).apply(t,o)}}return r.namespace=t,r.enabled=n.enabled(t),r.useColors=n.useColors(),r.color=function(t){var e,r=0;for(e in t)r=(r<<5)-r+t.charCodeAt(e),r|=0;return n.colors[Math.abs(r)%n.colors.length]}(t),r.destroy=i,"function"==typeof n.init&&n.init(r),n.instances.push(r),r}function i(){var t=n.instances.indexOf(this);return-1!==t&&(n.instances.splice(t,1),!0)}(n=e.exports=r.debug=r.default=r).coerce=function(t){return t instanceof Error?t.stack||t.message:t},n.disable=function(){n.enable("")},n.enable=function(t){var e;n.save(t),n.names=[],n.skips=[];var r=("string"==typeof t?t:"").split(/[\s,]+/),i=r.length;for(e=0;e<i;e++)r[e]&&("-"===(t=r[e].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+t.substr(1)+"$")):n.names.push(new RegExp("^"+t+"$")));for(e=0;e<n.instances.length;e++){var s=n.instances[e];s.enabled=n.enabled(s.namespace)}},n.enabled=function(t){if("*"===t[t.length-1])return!0;var e,r;for(e=0,r=n.skips.length;e<r;e++)if(n.skips[e].test(t))return!1;for(e=0,r=n.names.length;e<r;e++)if(n.names[e].test(t))return!0;return!1},n.humanize=t("ms"),n.instances=[],n.names=[],n.skips=[],n.formatters={}},{ms:110}],102:[function(t,e,n){var r,i=t("./keys"),s=t("has-binary2"),o=t("arraybuffer.slice"),a=t("after"),c=t("./utf8");"undefined"!=typeof ArrayBuffer&&(r=t("base64-arraybuffer"));var u="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),l="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),h=u||l;n.protocol=3;var p=n.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},f=i(p),d={type:"error",data:"parser error"},y=t("blob");function g(t,e,n){for(var r=new Array(t.length),i=a(t.length,n),s=function(t,n,i){e(n,function(e,n){r[t]=n,i(e,r)})},o=0;o<t.length;o++)s(o,t[o],i)}n.encodePacket=function(t,e,r,i){"function"==typeof e&&(i=e,e=!1),"function"==typeof r&&(i=r,r=null);var s=void 0===t.data?void 0:t.data.buffer||t.data;if("undefined"!=typeof ArrayBuffer&&s instanceof ArrayBuffer)return function(t,e,r){if(!e)return n.encodeBase64Packet(t,r);var i=t.data,s=new Uint8Array(i),o=new Uint8Array(1+i.byteLength);o[0]=p[t.type];for(var a=0;a<s.length;a++)o[a+1]=s[a];return r(o.buffer)}(t,e,i);if(void 0!==y&&s instanceof y)return function(t,e,r){if(!e)return n.encodeBase64Packet(t,r);if(h)return function(t,e,r){if(!e)return n.encodeBase64Packet(t,r);var i=new FileReader;return i.onload=function(){n.encodePacket({type:t.type,data:i.result},e,!0,r)},i.readAsArrayBuffer(t.data)}(t,e,r);var i=new Uint8Array(1);i[0]=p[t.type];var s=new y([i.buffer,t.data]);return r(s)}(t,e,i);if(s&&s.base64)return function(t,e){var r="b"+n.packets[t.type]+t.data.data;return e(r)}(t,i);var o=p[t.type];return void 0!==t.data&&(o+=r?c.encode(String(t.data),{strict:!1}):String(t.data)),i(""+o)},n.encodeBase64Packet=function(t,e){var r,i="b"+n.packets[t.type];if(void 0!==y&&t.data instanceof y){var s=new FileReader;return s.onload=function(){var t=s.result.split(",")[1];e(i+t)},s.readAsDataURL(t.data)}try{r=String.fromCharCode.apply(null,new Uint8Array(t.data))}catch(e){for(var o=new Uint8Array(t.data),a=new Array(o.length),c=0;c<o.length;c++)a[c]=o[c];r=String.fromCharCode.apply(null,a)}return i+=btoa(r),e(i)},n.decodePacket=function(t,e,r){if(void 0===t)return d;if("string"==typeof t){if("b"===t.charAt(0))return n.decodeBase64Packet(t.substr(1),e);if(r&&!1===(t=function(t){try{t=c.decode(t,{strict:!1})}catch(t){return!1}return t}(t)))return d;var i=t.charAt(0);return Number(i)==i&&f[i]?t.length>1?{type:f[i],data:t.substring(1)}:{type:f[i]}:d}i=new Uint8Array(t)[0];var s=o(t,1);return y&&"blob"===e&&(s=new y([s])),{type:f[i],data:s}},n.decodeBase64Packet=function(t,e){var n=f[t.charAt(0)];if(!r)return{type:n,data:{base64:!0,data:t.substr(1)}};var i=r.decode(t.substr(1));return"blob"===e&&y&&(i=new y([i])),{type:n,data:i}},n.encodePayload=function(t,e,r){"function"==typeof e&&(r=e,e=null);var i=s(t);if(e&&i)return y&&!h?n.encodePayloadAsBlob(t,r):n.encodePayloadAsArrayBuffer(t,r);if(!t.length)return r("0:");g(t,function(t,r){n.encodePacket(t,!!i&&e,!1,function(t){r(null,function(t){return t.length+":"+t}(t))})},function(t,e){return r(e.join(""))})},n.decodePayload=function(t,e,r){if("string"!=typeof t)return n.decodePayloadAsBinary(t,e,r);var i;if("function"==typeof e&&(r=e,e=null),""===t)return r(d,0,1);for(var s,o,a="",c=0,u=t.length;c<u;c++){var l=t.charAt(c);if(":"===l){if(""===a||a!=(s=Number(a)))return r(d,0,1);if(a!=(o=t.substr(c+1,s)).length)return r(d,0,1);if(o.length){if(i=n.decodePacket(o,e,!1),d.type===i.type&&d.data===i.data)return r(d,0,1);if(!1===r(i,c+s,u))return}c+=s,a=""}else a+=l}return""!==a?r(d,0,1):void 0},n.encodePayloadAsArrayBuffer=function(t,e){if(!t.length)return e(new ArrayBuffer(0));g(t,function(t,e){n.encodePacket(t,!0,!0,function(t){return e(null,t)})},function(t,n){var r=n.reduce(function(t,e){var n;return t+(n="string"==typeof e?e.length:e.byteLength).toString().length+n+2},0),i=new Uint8Array(r),s=0;return n.forEach(function(t){var e="string"==typeof t,n=t;if(e){for(var r=new Uint8Array(t.length),o=0;o<t.length;o++)r[o]=t.charCodeAt(o);n=r.buffer}i[s++]=e?0:1;var a=n.byteLength.toString();for(o=0;o<a.length;o++)i[s++]=parseInt(a[o]);i[s++]=255;for(r=new Uint8Array(n),o=0;o<r.length;o++)i[s++]=r[o]}),e(i.buffer)})},n.encodePayloadAsBlob=function(t,e){g(t,function(t,e){n.encodePacket(t,!0,!0,function(t){var n=new Uint8Array(1);if(n[0]=1,"string"==typeof t){for(var r=new Uint8Array(t.length),i=0;i<t.length;i++)r[i]=t.charCodeAt(i);t=r.buffer,n[0]=0}var s=(t instanceof ArrayBuffer?t.byteLength:t.size).toString(),o=new Uint8Array(s.length+1);for(i=0;i<s.length;i++)o[i]=parseInt(s[i]);if(o[s.length]=255,y){var a=new y([n.buffer,o.buffer,t]);e(null,a)}})},function(t,n){return e(new y(n))})},n.decodePayloadAsBinary=function(t,e,r){"function"==typeof e&&(r=e,e=null);for(var i=t,s=[];i.byteLength>0;){for(var a=new Uint8Array(i),c=0===a[0],u="",l=1;255!==a[l];l++){if(u.length>310)return r(d,0,1);u+=a[l]}i=o(i,2+u.length),u=parseInt(u);var h=o(i,0,u);if(c)try{h=String.fromCharCode.apply(null,new Uint8Array(h))}catch(t){var p=new Uint8Array(h);h="";for(l=0;l<p.length;l++)h+=String.fromCharCode(p[l])}s.push(h),i=o(i,u)}var f=s.length;s.forEach(function(t,i){r(n.decodePacket(t,e,!0),i,f)})}},{"./keys":103,"./utf8":104,after:1,"arraybuffer.slice":2,"base64-arraybuffer":4,blob:6,"has-binary2":105}],103:[function(t,e,n){e.exports=Object.keys||function(t){var e=[],n=Object.prototype.hasOwnProperty;for(var r in t)n.call(t,r)&&e.push(r);return e}},{}],104:[function(t,e,n){var r,i,s,o=String.fromCharCode;function a(t){for(var e,n,r=[],i=0,s=t.length;i<s;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<s?56320==(64512&(n=t.charCodeAt(i++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--):r.push(e);return r}function c(t,e){if(t>=55296&&t<=57343){if(e)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function u(t,e){return o(t>>e&63|128)}function l(t,e){if(0==(4294967168&t))return o(t);var n="";return 0==(4294965248&t)?n=o(t>>6&31|192):0==(4294901760&t)?(c(t,e)||(t=65533),n=o(t>>12&15|224),n+=u(t,6)):0==(4292870144&t)&&(n=o(t>>18&7|240),n+=u(t,12),n+=u(t,6)),n+=o(63&t|128)}function h(){if(s>=i)throw Error("Invalid byte index");var t=255&r[s];if(s++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function p(t){var e,n;if(s>i)throw Error("Invalid byte index");if(s==i)return!1;if(e=255&r[s],s++,0==(128&e))return e;if(192==(224&e)){if((n=(31&e)<<6|h())>=128)return n;throw Error("Invalid continuation byte")}if(224==(240&e)){if((n=(15&e)<<12|h()<<6|h())>=2048)return c(n,t)?n:65533;throw Error("Invalid continuation byte")}if(240==(248&e)&&(n=(7&e)<<18|h()<<12|h()<<6|h())>=65536&&n<=1114111)return n;throw Error("Invalid UTF-8 detected")}e.exports={version:"2.1.2",encode:function(t,e){for(var n=!1!==(e=e||{}).strict,r=a(t),i=r.length,s=-1,o="";++s<i;)o+=l(r[s],n);return o},decode:function(t,e){var n=!1!==(e=e||{}).strict;r=a(t),i=r.length,s=0;for(var c,u=[];!1!==(c=p(n));)u.push(c);return function(t){for(var e,n=t.length,r=-1,i="";++r<n;)(e=t[r])>65535&&(i+=o((e-=65536)>>>10&1023|55296),e=56320|1023&e),i+=o(e);return i}(u)}}},{}],105:[function(t,e,n){(function(n){var r=t("isarray"),i=Object.prototype.toString,s="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===i.call(Blob),o="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===i.call(File);e.exports=function t(e){if(!e||"object"!=typeof e)return!1;if(r(e)){for(var i=0,a=e.length;i<a;i++)if(t(e[i]))return!0;return!1}if("function"==typeof n&&n.isBuffer&&n.isBuffer(e)||"function"==typeof ArrayBuffer&&e instanceof ArrayBuffer||s&&e instanceof Blob||o&&e instanceof File)return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return t(e.toJSON(),!0);for(var c in e)if(Object.prototype.hasOwnProperty.call(e,c)&&t(e[c]))return!0;return!1}}).call(this,t("buffer").Buffer)},{buffer:8,isarray:109}],106:[function(t,e,n){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}},{}],107:[function(t,e,n){n.read=function(t,e,n,r,i){var s,o,a=8*i-r-1,c=(1<<a)-1,u=c>>1,l=-7,h=n?i-1:0,p=n?-1:1,f=t[e+h];for(h+=p,s=f&(1<<-l)-1,f>>=-l,l+=a;l>0;s=256*s+t[e+h],h+=p,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=r;l>0;o=256*o+t[e+h],h+=p,l-=8);if(0===s)s=1-u;else{if(s===c)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,r),s-=u}return(f?-1:1)*o*Math.pow(2,s-r)},n.write=function(t,e,n,r,i,s){var o,a,c,u=8*s-i-1,l=(1<<u)-1,h=l>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:s-1,d=r?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=l):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),(e+=o+h>=1?p/c:p*Math.pow(2,1-h))*c>=2&&(o++,c/=2),o+h>=l?(a=0,o=l):o+h>=1?(a=(e*c-1)*Math.pow(2,i),o+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;t[n+f]=255&a,f+=d,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;t[n+f]=255&o,f+=d,o/=256,u-=8);t[n+f-d]|=128*y}},{}],108:[function(t,e,n){var r=[].indexOf;e.exports=function(t,e){if(r)return t.indexOf(e);for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}},{}],109:[function(t,e,n){var r={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},{}],110:[function(t,e,n){var r=1e3,i=60*r,s=60*i,o=24*s,a=365.25*o;function c(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}e.exports=function(t,e){e=e||{};var n,u=typeof t;if("string"===u&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(!e)return;var n=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*a;case"days":case"day":case"d":return n*o;case"hours":case"hour":case"hrs":case"hr":case"h":return n*s;case"minutes":case"minute":case"mins":case"min":case"m":return n*i;case"seconds":case"second":case"secs":case"sec":case"s":return n*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(t);if("number"===u&&!1===isNaN(t))return e.long?c(n=t,o,"day")||c(n,s,"hour")||c(n,i,"minute")||c(n,r,"second")||n+" ms":function(t){if(t>=o)return Math.round(t/o)+"d";if(t>=s)return Math.round(t/s)+"h";if(t>=i)return Math.round(t/i)+"m";if(t>=r)return Math.round(t/r)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},{}],111:[function(t,e,n){n.encode=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},n.decode=function(t){for(var e={},n=t.split("&"),r=0,i=n.length;r<i;r++){var s=n[r].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}},{}],112:[function(t,e,n){var r=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(t){var e=t,n=t.indexOf("["),s=t.indexOf("]");-1!=n&&-1!=s&&(t=t.substring(0,n)+t.substring(n,s).replace(/:/g,";")+t.substring(s,t.length));for(var o=r.exec(t||""),a={},c=14;c--;)a[i[c]]=o[c]||"";return-1!=n&&-1!=s&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},{}],113:[function(t,e,n){var r,i,s=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(t){r=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(t){i=a}}();var u,l=[],h=!1,p=-1;function f(){h&&u&&(h=!1,u.length?l=u.concat(l):p=-1,l.length&&d())}function d(){if(!h){var t=c(f);h=!0;for(var e=l.length;e;){for(u=l,l=[];++p<e;)u&&u[p].run();p=-1,e=l.length}u=null,h=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function y(t,e){this.fun=t,this.array=e}function g(){}s.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new y(t,e)),1!==l.length||h||c(d)},y.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=g,s.addListener=g,s.once=g,s.off=g,s.removeListener=g,s.removeAllListeners=g,s.emit=g,s.prependListener=g,s.prependOnceListener=g,s.listeners=function(t){return[]},s.binding=function(t){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(t){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],114:[function(t,e,n){var r=t("./url"),i=t("socket.io-parser"),s=t("./manager"),o=t("debug")("socket.io-client");e.exports=n=c;var a=n.managers={};function c(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,i=r(t),c=i.source,u=i.id,l=i.path,h=a[u]&&l in a[u].nsps;return e.forceNew||e["force new connection"]||!1===e.multiplex||h?(o("ignoring socket cache for %s",c),n=s(c,e)):(a[u]||(o("new io instance for %s",c),a[u]=s(c,e)),n=a[u]),i.query&&!e.query&&(e.query=i.query),n.socket(i.path,e)}n.protocol=i.protocol,n.connect=c,n.Manager=t("./manager"),n.Socket=t("./socket")},{"./manager":115,"./socket":117,"./url":118,debug:119,"socket.io-parser":122}],115:[function(t,e,n){var r=t("engine.io-client"),i=t("./socket"),s=t("component-emitter"),o=t("socket.io-parser"),a=t("./on"),c=t("component-bind"),u=t("debug")("socket.io-client:manager"),l=t("indexof"),h=t("backo2"),p=Object.prototype.hasOwnProperty;function f(t,e){if(!(this instanceof f))return new f(t,e);t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new h({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=e.parser||o;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==e.autoConnect,this.autoConnect&&this.open()}e.exports=f,f.prototype.emitAll=function(){for(var t in this.emit.apply(this,arguments),this.nsps)p.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},f.prototype.updateSocketIds=function(){for(var t in this.nsps)p.call(this.nsps,t)&&(this.nsps[t].id=this.generateId(t))},f.prototype.generateId=function(t){return("/"===t?"":t+"#")+this.engine.id},s(f.prototype),f.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},f.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},f.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},f.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},f.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},f.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},f.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},f.prototype.open=f.prototype.connect=function(t,e){if(u("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;u("opening %s",this.uri),this.engine=r(this.uri,this.opts);var n=this.engine,i=this;this.readyState="opening",this.skipReconnect=!1;var s=a(n,"open",function(){i.onopen(),t&&t()}),o=a(n,"error",function(e){if(u("connect_error"),i.cleanup(),i.readyState="closed",i.emitAll("connect_error",e),t){var n=new Error("Connection error");n.data=e,t(n)}else i.maybeReconnectOnOpen()});if(!1!==this._timeout){var c=this._timeout;u("connect attempt will timeout after %d",c);var l=setTimeout(function(){u("connect attempt timed out after %d",c),s.destroy(),n.close(),n.emit("error","timeout"),i.emitAll("connect_timeout",c)},c);this.subs.push({destroy:function(){clearTimeout(l)}})}return this.subs.push(s),this.subs.push(o),this},f.prototype.onopen=function(){u("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(a(t,"data",c(this,"ondata"))),this.subs.push(a(t,"ping",c(this,"onping"))),this.subs.push(a(t,"pong",c(this,"onpong"))),this.subs.push(a(t,"error",c(this,"onerror"))),this.subs.push(a(t,"close",c(this,"onclose"))),this.subs.push(a(this.decoder,"decoded",c(this,"ondecoded")))},f.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},f.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},f.prototype.ondata=function(t){this.decoder.add(t)},f.prototype.ondecoded=function(t){this.emit("packet",t)},f.prototype.onerror=function(t){u("error",t),this.emitAll("error",t)},f.prototype.socket=function(t,e){var n=this.nsps[t];if(!n){n=new i(this,t,e),this.nsps[t]=n;var r=this;n.on("connecting",s),n.on("connect",function(){n.id=r.generateId(t)}),this.autoConnect&&s()}function s(){~l(r.connecting,n)||r.connecting.push(n)}return n},f.prototype.destroy=function(t){var e=l(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},f.prototype.packet=function(t){u("writing packet %j",t);var e=this;t.query&&0===t.type&&(t.nsp+="?"+t.query),e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,function(n){for(var r=0;r<n.length;r++)e.engine.write(n[r],t.options);e.encoding=!1,e.processPacketQueue()}))},f.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},f.prototype.cleanup=function(){u("cleanup");for(var t=this.subs.length,e=0;e<t;e++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},f.prototype.close=f.prototype.disconnect=function(){u("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},f.prototype.onclose=function(t){u("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},f.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)u("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();u("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var n=setTimeout(function(){t.skipReconnect||(u("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open(function(e){e?(u("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(u("reconnect success"),t.onreconnect())}))},e);this.subs.push({destroy:function(){clearTimeout(n)}})}},f.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)}},{"./on":116,"./socket":117,backo2:3,"component-bind":13,"component-emitter":14,debug:119,"engine.io-client":91,indexof:108,"socket.io-parser":122}],116:[function(t,e,n){e.exports=function(t,e,n){return t.on(e,n),{destroy:function(){t.removeListener(e,n)}}}},{}],117:[function(t,e,n){var r=t("socket.io-parser"),i=t("component-emitter"),s=t("to-array"),o=t("./on"),a=t("component-bind"),c=t("debug")("socket.io-client:socket"),u=t("parseqs"),l=t("has-binary2");e.exports=f;var h={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},p=i.prototype.emit;function f(t,e,n){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}i(f.prototype),f.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[o(t,"open",a(this,"onopen")),o(t,"packet",a(this,"onpacket")),o(t,"close",a(this,"onclose"))]}},f.prototype.open=f.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},f.prototype.send=function(){var t=s(arguments);return t.unshift("message"),this.emit.apply(this,t),this},f.prototype.emit=function(t){if(h.hasOwnProperty(t))return p.apply(this,arguments),this;var e=s(arguments),n={type:(void 0!==this.flags.binary?this.flags.binary:l(e))?r.BINARY_EVENT:r.EVENT,data:e,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this},f.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},f.prototype.onopen=function(){if(c("transport is open - connecting"),"/"!==this.nsp)if(this.query){var t="object"==typeof this.query?u.encode(this.query):this.query;c("sending connect packet with query %s",t),this.packet({type:r.CONNECT,query:t})}else this.packet({type:r.CONNECT})},f.prototype.onclose=function(t){c("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},f.prototype.onpacket=function(t){var e=t.nsp===this.nsp,n=t.type===r.ERROR&&"/"===t.nsp;if(e||n)switch(t.type){case r.CONNECT:this.onconnect();break;case r.EVENT:case r.BINARY_EVENT:this.onevent(t);break;case r.ACK:case r.BINARY_ACK:this.onack(t);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",t.data)}},f.prototype.onevent=function(t){var e=t.data||[];c("emitting event %j",e),null!=t.id&&(c("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?p.apply(this,e):this.receiveBuffer.push(e)},f.prototype.ack=function(t){var e=this,n=!1;return function(){if(!n){n=!0;var i=s(arguments);c("sending ack %j",i),e.packet({type:l(i)?r.BINARY_ACK:r.ACK,id:t,data:i})}}},f.prototype.onack=function(t){var e=this.acks[t.id];"function"==typeof e?(c("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):c("bad ack %s",t.id)},f.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},f.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)p.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},f.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},f.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},f.prototype.close=f.prototype.disconnect=function(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},f.prototype.compress=function(t){return this.flags.compress=t,this},f.prototype.binary=function(t){return this.flags.binary=t,this}},{"./on":116,"component-bind":13,"component-emitter":14,debug:119,"has-binary2":105,parseqs:111,"socket.io-parser":122,"to-array":126}],118:[function(t,e,n){var r=t("parseuri"),i=t("debug")("socket.io-client:url");e.exports=function(t,e){var n=t;e=e||"undefined"!=typeof location&&location,null==t&&(t=e.protocol+"//"+e.host);"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?e.protocol+t:e.host+t),/^(https?|wss?):\/\//.test(t)||(i("protocol-less url %s",t),t=void 0!==e?e.protocol+"//"+t:"https://"+t),i("parse %s",t),n=r(t));n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443"));n.path=n.path||"/";var s=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+s+":"+n.port,n.href=n.protocol+"://"+s+(e&&e.port===n.port?"":":"+n.port),n}},{debug:119,parseuri:112}],119:[function(t,e,n){arguments[4][100][0].apply(n,arguments)},{"./debug":120,_process:113,dup:100}],120:[function(t,e,n){arguments[4][101][0].apply(n,arguments)},{dup:101,ms:110}],121:[function(t,e,n){var r=t("isarray"),i=t("./is-buffer"),s=Object.prototype.toString,o="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===s.call(Blob),a="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===s.call(File);n.deconstructPacket=function(t){var e=[],n=t.data,s=t;return s.data=function t(e,n){if(!e)return e;if(i(e)){var s={_placeholder:!0,num:n.length};return n.push(e),s}if(r(e)){for(var o=new Array(e.length),a=0;a<e.length;a++)o[a]=t(e[a],n);return o}if("object"==typeof e&&!(e instanceof Date)){var o={};for(var c in e)o[c]=t(e[c],n);return o}return e}(n,e),s.attachments=e.length,{packet:s,buffers:e}},n.reconstructPacket=function(t,e){return t.data=function t(e,n){if(!e)return e;if(e&&e._placeholder)return n[e.num];if(r(e))for(var i=0;i<e.length;i++)e[i]=t(e[i],n);else if("object"==typeof e)for(var s in e)e[s]=t(e[s],n);return e}(t.data,e),t.attachments=void 0,t},n.removeBlobs=function(t,e){var n=0,s=t;!function t(c,u,l){if(!c)return c;if(o&&c instanceof Blob||a&&c instanceof File){n++;var h=new FileReader;h.onload=function(){l?l[u]=this.result:s=this.result,--n||e(s)},h.readAsArrayBuffer(c)}else if(r(c))for(var p=0;p<c.length;p++)t(c[p],p,c);else if("object"==typeof c&&!i(c))for(var f in c)t(c[f],f,c)}(s),n||e(s)}},{"./is-buffer":123,isarray:109}],122:[function(t,e,n){var r=t("debug")("socket.io-parser"),i=t("component-emitter"),s=t("./binary"),o=t("isarray"),a=t("./is-buffer");function c(){}n.protocol=4,n.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],n.CONNECT=0,n.DISCONNECT=1,n.EVENT=2,n.ACK=3,n.ERROR=4,n.BINARY_EVENT=5,n.BINARY_ACK=6,n.Encoder=c,n.Decoder=h;var u=n.ERROR+'"encode error"';function l(t){var e=""+t.type;if(n.BINARY_EVENT!==t.type&&n.BINARY_ACK!==t.type||(e+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(e+=t.nsp+","),null!=t.id&&(e+=t.id),null!=t.data){var i=function(t){try{return JSON.stringify(t)}catch(t){return!1}}(t.data);if(!1===i)return u;e+=i}return r("encoded %j as %s",t,e),e}function h(){this.reconstructor=null}function p(t){this.reconPack=t,this.buffers=[]}function f(t){return{type:n.ERROR,data:"parser error: "+t}}c.prototype.encode=function(t,e){(r("encoding packet %j",t),n.BINARY_EVENT===t.type||n.BINARY_ACK===t.type)?function(t,e){s.removeBlobs(t,function(t){var n=s.deconstructPacket(t),r=l(n.packet),i=n.buffers;i.unshift(r),e(i)})}(t,e):e([l(t)])},i(h.prototype),h.prototype.add=function(t){var e;if("string"==typeof t)e=function(t){var e=0,i={type:Number(t.charAt(0))};if(null==n.types[i.type])return f("unknown packet type "+i.type);if(n.BINARY_EVENT===i.type||n.BINARY_ACK===i.type){for(var s="";"-"!==t.charAt(++e)&&(s+=t.charAt(e),e!=t.length););if(s!=Number(s)||"-"!==t.charAt(e))throw new Error("Illegal attachments");i.attachments=Number(s)}if("/"===t.charAt(e+1))for(i.nsp="";++e;){var a=t.charAt(e);if(","===a)break;if(i.nsp+=a,e===t.length)break}else i.nsp="/";var c=t.charAt(e+1);if(""!==c&&Number(c)==c){for(i.id="";++e;){var a=t.charAt(e);if(null==a||Number(a)!=a){--e;break}if(i.id+=t.charAt(e),e===t.length)break}i.id=Number(i.id)}if(t.charAt(++e)){var u=function(t){try{return JSON.parse(t)}catch(t){return!1}}(t.substr(e)),l=!1!==u&&(i.type===n.ERROR||o(u));if(!l)return f("invalid payload");i.data=u}return r("decoded %s as %j",t,i),i}(t),n.BINARY_EVENT===e.type||n.BINARY_ACK===e.type?(this.reconstructor=new p(e),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",e)):this.emit("decoded",e);else{if(!a(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(e=this.reconstructor.takeBinaryData(t))&&(this.reconstructor=null,this.emit("decoded",e))}},h.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},p.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){var e=s.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},p.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},{"./binary":121,"./is-buffer":123,"component-emitter":14,debug:124,isarray:109}],123:[function(t,e,n){(function(t){e.exports=function(e){return n&&t.isBuffer(e)||r&&(e instanceof ArrayBuffer||i(e))};var n="function"==typeof t&&"function"==typeof t.isBuffer,r="function"==typeof ArrayBuffer,i=function(t){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer}}).call(this,t("buffer").Buffer)},{buffer:8}],124:[function(t,e,n){arguments[4][100][0].apply(n,arguments)},{"./debug":125,_process:113,dup:100}],125:[function(t,e,n){arguments[4][101][0].apply(n,arguments)},{dup:101,ms:110}],126:[function(t,e,n){e.exports=function(t,e){for(var n=[],r=(e=e||0)||0;r<t.length;r++)n[r-e]=t[r];return n}},{}],127:[function(t,e,n){"use strict";const r=t("./src/Gesture.js"),i=t("./src/Point2D.js"),s=t("./src/Region.js"),o=t("./src/Smoothable.js");e.exports={Gesture:r,Point2D:i,Region:s,Smoothable:o}},{"./src/Gesture.js":129,"./src/Point2D.js":132,"./src/Region.js":134,"./src/Smoothable.js":135}],128:[function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.exports=class{constructor(t,e,n){this.element=t,this.gesture=e,this.handler=n}evaluateHook(t,e){const n=this.gesture[t](e);n&&this.handler(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){r(t,e,n[e])})}return t}({centroid:e.centroid,event:e.event,phase:t,radius:e.radius,type:this.gesture.type,target:this.element},n))}}},{}],129:[function(t,e,n){"use strict";let r=0;e.exports=class{constructor(t){if("string"!=typeof t)throw new TypeError("Gestures require a string type");this.type=t,this.id="gesture-".concat(this.type,"-").concat(r++)}start(){return null}move(){return null}end(){return null}cancel(){return null}}},{}],130:[function(t,e,n){"use strict";t("core-js/modules/web.dom-collections.iterator");const r=t("./PointerData.js");function i(t){return new WeakSet(function(t){if("function"==typeof t.composedPath)return t.composedPath();const e=[];for(let n=t.target;n!==document;n=n.parentNode)e.push(n);return e.push(document),e.push(window),e}(t))}e.exports=class{constructor(t,e){const n=new r(t,e);this.initialElements=i(t),this.initial=n,this.current=n,this.previous=n,this.identifier=e,this.progress={}}get phase(){return this.current.type}get startTime(){return this.initial.time}getProgressOfGesture(t){return this.progress[t]||(this.progress[t]={}),this.progress[t]}totalDistance(){return this.initial.distanceTo(this.current)}update(t){this.previous=this.current,this.current=new r(t,this.identifier)}wasInitiallyInside(t){return this.initialElements.has(t)}}},{"./PointerData.js":133,"core-js/modules/web.dom-collections.iterator":90}],131:[function(t,e,n){"use strict";const r=Object.freeze({mousedown:"start",touchstart:"start",pointerdown:"start",mousemove:"move",touchmove:"move",pointermove:"move",mouseup:"end",touchend:"end",pointerup:"end",touchcancel:"cancel",pointercancel:"cancel"});e.exports=r},{}],132:[function(t,e,n){"use strict";class r{constructor(t=0,e=0){this.x=t,this.y=e}angleTo(t){return Math.atan2(t.y-this.y,t.x-this.x)}averageDistanceTo(t){return this.totalDistanceTo(t)/t.length}clone(){return new r(this.x,this.y)}distanceTo(t){return Math.hypot(t.x-this.x,t.y-this.y)}minus(t){return new r(this.x-t.x,this.y-t.y)}plus(t){return new r(this.x+t.x,this.y+t.y)}totalDistanceTo(t){return t.reduce((t,e)=>t+this.distanceTo(e),0)}static centroid(t=[]){if(0===t.length)return null;const e=r.sum(t);return new r(e.x/t.length,e.y/t.length)}static sum(t=[]){return t.reduce((t,e)=>t.plus(e),new r(0,0))}}e.exports=r},{}],133:[function(t,e,n){"use strict";const r=t("./Point2D.js"),i=t("./PHASE.js");e.exports=class{constructor(t,e){this.originalEvent=t,this.type=i[t.type],this.time=Date.now();const n=function(t,e){return t.changedTouches?Array.from(t.changedTouches).find(t=>t.identifier===e):t}(t,e);this.point=new r(n.clientX,n.clientY)}angleTo(t){return this.point.angleTo(t.point)}distanceTo(t){return this.point.distanceTo(t.point)}}},{"./PHASE.js":131,"./Point2D.js":132}],134:[function(t,e,n){"use strict";const r=t("./Binding.js"),i=t("./State.js"),s=t("./PHASE.js"),o=["pointerdown","pointermove","pointerup"],a=["mousedown","mousemove","mouseup"],c=["touchstart","touchmove","touchend"],u=["pointercancel","touchcancel"];e.exports=class{constructor(t,e=!1,n=!0){this.bindings=[],this.activeBindings=[],this.isWaiting=!0,this.element=t,this.capture=e,this.preventDefault=n,this.state=new i(this.element),this.activate()}activate(){let t=[];t=window.TouchEvent||window.MouseEvent?a.concat(c):o;const e=this.arbitrate.bind(this);t.forEach(t=>{this.element.addEventListener(t,e,{capture:this.capture,once:!1,passive:!1})}),["blur"].concat(u).forEach(t=>{window.addEventListener(t,t=>{t.preventDefault(),this.state=new i(this.element),this.resetActiveBindings()})})}resetActiveBindings(){this.activeBindings=[],this.isWaiting=!0}updateActiveBindings(){if(this.isWaiting&&this.state.inputs.length>0){const t=this.state.inputs[0];this.activeBindings=this.bindings.filter(e=>t.wasInitiallyInside(e.element)),this.isWaiting=!1}}pruneActiveBindings(){this.state.hasNoActiveInputs()&&this.resetActiveBindings()}arbitrate(t){this.state.updateAllInputs(t),this.updateActiveBindings(),this.activeBindings.length>0&&(this.preventDefault&&t.preventDefault(),this.activeBindings.forEach(e=>{e.evaluateHook(s[t.type],this.state)})),this.state.clearEndedInputs(),this.pruneActiveBindings()}addGesture(t,e,n){this.bindings.push(new r(t,e,n))}getBindingsByElement(t){return this.bindings.filter(e=>e.element===t)}removeGestures(t,e){this.getBindingsByElement(t).forEach(t=>{null!=e&&t.gesture!==e||this.bindings.splice(this.bindings.indexOf(t),1)})}}},{"./Binding.js":128,"./PHASE.js":131,"./State.js":136}],135:[function(t,e,n){"use strict";t("core-js/modules/es.symbol.description");const r=Symbol("stagedEmit"),i=Symbol("smooth");e.exports=(t=>(class extends t{constructor(t,e={}){super(t,e),this.emit=null,e.hasOwnProperty("smoothing")&&!e.smoothing?this.emit=(t=>t):this.emit=this[i].bind(this),this[r]=null}restart(){this[r]=null}[i](t,e){let n=null;if(this[r]){n=this[r];const i=this.smoothingAverage(n[e],t[e]);n[e]=i,t[e]=i}return this[r]=t,n}smoothingAverage(t,e){return(t+e)/2}}))},{"core-js/modules/es.symbol.description":89}],136:[function(t,e,n){"use strict";t("core-js/modules/es.symbol.description"),t("core-js/modules/web.dom-collections.iterator");const r=t("./Input.js"),i=t("./PHASE.js"),s=t("./Point2D.js"),o=Object.freeze({inputs:Symbol.for("inputs")}),a={TouchEvent:function(t){Array.from(t.changedTouches).forEach(e=>{this.updateInput(t,e.identifier)})},PointerEvent:function(t){this.updateInput(t,t.pointerId)},MouseEvent:function(t){0===t.button&&this.updateInput(t,t.button)}};e.exports=class{constructor(t){this.element=t,this[o.inputs]=new Map,this.inputs=[],this.active=[],this.activePoints=[],this.centroid={},this.event=null}clearEndedInputs(){this[o.inputs].forEach((t,e)=>{"end"===t.phase&&this[o.inputs].delete(e)})}getInputsInPhase(t){return this.inputs.filter(e=>e.phase===t)}getInputsNotInPhase(t){return this.inputs.filter(e=>e.phase!==t)}hasNoActiveInputs(){return 0===this[o.inputs].size}updateInput(t,e){switch(i[t.type]){case"start":this[o.inputs].set(e,new r(t,e));try{this.element.setPointerCapture(e)}catch(t){}break;case"end":try{this.element.releasePointerCapture(e)}catch(t){}case"move":case"cancel":this[o.inputs].has(e)&&this[o.inputs].get(e).update(t);break;default:console.warn("Unrecognized event type: ".concat(t.type))}}updateAllInputs(t){a[t.constructor.name].call(this,t),this.updateFields(t)}updateFields(t=null){this.inputs=Array.from(this[o.inputs].values()),this.active=this.getInputsNotInPhase("end"),this.activePoints=this.active.map(t=>t.current.point),this.centroid=s.centroid(this.activePoints),this.radius=this.activePoints.reduce((t,e)=>{const n=e.distanceTo(this.centroid);return n>t?n:t},0),t&&(this.event=t)}}},{"./Input.js":130,"./PHASE.js":131,"./Point2D.js":132,"core-js/modules/es.symbol.description":89,"core-js/modules/web.dom-collections.iterator":90}],137:[function(t,e,n){"use strict";const{Gesture:r,Point2D:i,Region:s,Smoothable:o}=t("westures-core"),a=t("./src/Pan.js"),c=t("./src/Pinch.js"),u=t("./src/Rotate.js"),l=t("./src/Swipe.js"),h=t("./src/Swivel.js"),p=t("./src/Tap.js"),f=t("./src/Track.js");e.exports={Gesture:r,Point2D:i,Region:s,Smoothable:o,Pan:a,Pinch:c,Rotate:u,Swipe:l,Swivel:h,Tap:p,Track:f}},{"./src/Pan.js":138,"./src/Pinch.js":139,"./src/Rotate.js":140,"./src/Swipe.js":141,"./src/Swivel.js":142,"./src/Tap.js":143,"./src/Track.js":144,"westures-core":127}],138:[function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const{Gesture:i,Point2D:s,Smoothable:o}=t("westures-core");class a extends(o(i)){constructor(t={}){const e=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){r(t,e,n[e])})}return t}({},a.DEFAULTS,t);super("pan",e),this.muteKey=e.muteKey,this.minInputs=e.minInputs,this.previous=null}restart(t){t.active.length>=this.minInputs&&(this.previous=t.centroid),super.restart()}start(t){this.restart(t)}move(t){if(t.active.length<this.minInputs)return null;if(this.muteKey&&t.event[this.muteKey])return this.restart(t),null;const e=t.centroid.minus(this.previous);return this.previous=t.centroid,this.emit({translation:e},"translation")}end(t){this.restart(t)}cancel(t){this.restart(t)}smoothingAverage(t,e){return new s((t.x+e.x)/2,(t.y+e.y)/2)}}a.DEFAULTS=Object.freeze({minInputs:1,smoothing:!0}),e.exports=a},{"westures-core":127}],139:[function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const{Gesture:i,Smoothable:s}=t("westures-core");class o extends(s(i)){constructor(t={}){const e=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){r(t,e,n[e])})}return t}({},o.DEFAULTS,t);super("pinch",e),this.minInputs=e.minInputs,this.previous=0}restart(t){if(t.active.length>=this.minInputs){const e=t.centroid.averageDistanceTo(t.activePoints);this.previous=e}super.restart()}start(t){this.restart(t)}move(t){if(t.active.length<this.minInputs)return null;const e=t.centroid.averageDistanceTo(t.activePoints),n=e/this.previous;return this.previous=e,this.emit({distance:e,scale:n},"scale")}end(t){this.restart(t)}cancel(t){this.restart(t)}}o.DEFAULTS=Object.freeze({minInputs:2,smoothing:!0}),e.exports=o},{"westures-core":127}],140:[function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const{Gesture:i,Smoothable:s}=t("westures-core"),o=t("./angularMinus.js");class a extends(s(i)){constructor(t={}){const e=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){r(t,e,n[e])})}return t}({},a.DEFAULTS,t);super("rotate",e),this.minInputs=e.minInputs,this.previousAngles=[]}getAngle(t){if(t.active.length<this.minInputs)return null;let e=0;const n=[];return t.active.forEach((r,i)=>{const s=t.centroid.angleTo(r.current.point);e+=o(s,this.previousAngles[i]),n[i]=s}),e/=t.active.length,this.previousAngles=n,e}restart(t){this.previousAngles=[],this.getAngle(t),super.restart()}start(t){this.restart(t)}move(t){const e=this.getAngle(t);return e?this.emit({rotation:e},"rotation"):null}end(t){this.restart(t)}cancel(t){this.restart(t)}}a.DEFAULTS=Object.freeze({minInputs:2,smoothing:!0}),e.exports=a},{"./angularMinus.js":145,"westures-core":127}],141:[function(t,e,n){"use strict";const{Gesture:r}=t("westures-core"),i=1,s=7,o=300;e.exports=class extends r{constructor(){super("swipe"),this.moves=[],this.saved=null}refresh(){this.moves=[],this.saved=null}start(){this.refresh()}move(t){t.active.length>=i&&(this.moves.push({time:Date.now(),point:t.centroid}),this.moves.length>s&&this.moves.splice(0,this.moves.length-s))}end(t){const e=this.getResult();return this.moves=[],t.active.length>0?(this.saved=e,null):(this.saved=null,this.validate(e))}cancel(){this.refresh()}getResult(){if(this.moves.length<s)return this.saved;const t=s-1,{point:e,time:n}=this.moves[t];return{point:e,velocity:function(t,e){let n=0;for(let s=0;s<e;++s){const e=(r=t[s],(i=t[s+1]).point.distanceTo(r.point)/(i.time-r.time+1));e>n&&(n=e)}var r,i;return n}(this.moves,t),direction:function(t,e){const n=t[e].point;let r=0,i=0;for(let s=0;s<e;++s){const e=t[s].point.angleTo(n);r+=Math.sin(e),i+=Math.cos(e)}return r/=e,i/=e,Math.atan2(r,i)}(this.moves,t),time:n,centroid:e}}validate(t){return null==t?null:Date.now()-t.time>o?null:t}}},{"westures-core":127}],142:[function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const{Gesture:i,Point2D:s,Smoothable:o}=t("westures-core"),a=t("./angularMinus.js");class c extends(o(i)){constructor(t={}){const e=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){r(t,e,n[e])})}return t}({},c.DEFAULTS,t);super("swivel",e),this.deadzoneRadius=e.deadzoneRadius,this.enableKey=e.enableKey,this.minInputs=e.minInputs,this.pivotCenter=e.pivotCenter,this.pivot=null,this.previous=0,this.isActive=!1}enabled(t){return!this.enableKey||t[this.enableKey]}restart(t){if(this.isActive=!0,this.pivotCenter){const e=this.pivotCenter.getBoundingClientRect();this.pivot=new s(e.left+e.width/2,e.top+e.height/2),this.previous=this.pivot.angleTo(t.centroid)}else this.pivot=t.centroid,this.previous=0;super.restart()}refresh(t,e){t.length>=this.minInputs&&this.enabled(e.event)&&this.restart(e)}start(t){this.refresh(t.getInputsInPhase("start"),t)}calculateOutput(t){const e=this.pivot,n=e.angleTo(t.centroid),r=a(n,this.previous);return this.previous=n,e.distanceTo(t.centroid)>this.deadzoneRadius?{rotation:r,pivot:e}:null}move(t){if(t.active.length<this.minInputs)return null;if(this.enabled(t.event)){if(this.isActive){const e=this.calculateOutput(t);return e?this.emit(e,"rotation"):null}this.refresh(t.active,t)}else this.isActive=!1;return null}end(t){this.refresh(t.active,t)}cancel(t){this.end(t)}}c.DEFAULTS=Object.freeze({deadzoneRadius:15,enableKey:null,minInputs:1,pivotCenter:!1}),e.exports=c},{"./angularMinus.js":145,"westures-core":127}],143:[function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const{Gesture:i,Point2D:s}=t("westures-core"),o=Object.freeze({MIN_DELAY_MS:0,MAX_DELAY_MS:300,NUM_INPUTS:1,MOVE_PX_TOLERANCE:10});e.exports=class extends i{constructor(t={}){super("tap"),this.minDelay=t.minDelay||o.MIN_DELAY_MS,this.maxDelay=t.maxDelay||o.MAX_DELAY_MS,this.numInputs=t.numInputs||o.NUM_INPUTS,this.tolerance=t.tolerance||o.MOVE_PX_TOLERANCE,this.ended=[]}end(t){const e=Date.now();if(this.ended=this.ended.concat(t.getInputsInPhase("end")).filter(t=>{const n=e-t.startTime;return n<=this.maxDelay&&n>=this.minDelay}),this.ended.length!==this.numInputs||this.ended.some(t=>t.totalDistance()>this.tolerance))return null;const n=s.centroid(this.ended.map(t=>t.current.point));return this.ended=[],function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){r(t,e,n[e])})}return t}({centroid:n},n)}}},{"westures-core":127}],144:[function(t,e,n){"use strict";t("core-js/modules/es.string.includes");const{Gesture:r}=t("westures-core");e.exports=class extends r{constructor(t=[]){super("track"),this.trackStart=t.includes("start"),this.trackMove=t.includes("move"),this.trackEnd=t.includes("end"),this.trackCancel=t.includes("cancel")}data({activePoints:t,centroid:e}){return{active:t,centroid:e}}start(t){return this.trackStart?this.data(t):null}move(t){return this.trackMove?this.data(t):null}end(t){return this.trackEnd?this.data(t):null}cancel(t){return this.trackCancel?this.data(t):null}}},{"core-js/modules/es.string.includes":87,"westures-core":127}],145:[function(t,e,n){"use strict";const r=2*Math.PI;e.exports=function(t,e=0){let n=t-e;return n<-Math.PI?n+=r:n>Math.PI&&(n-=r),n}},{}],146:[function(t,e,n){"use strict";var r,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),s=64,o={},a=0,c=0;function u(t){var e="";do{e=i[t%s]+e,t=Math.floor(t/s)}while(t>0);return e}function l(){var t=u(+new Date);return t!==r?(a=0,r=t):t+"."+u(a++)}for(;c<s;c++)o[i[c]]=c;l.encode=u,l.decode=function(t){var e=0;for(c=0;c<t.length;c++)e=e*s+o[t.charAt(c)];return e},e.exports=l},{}],147:[function(t,e,n){"use strict";const r=t("./client/ClientController.js"),i=t("./client/ClientModel.js"),s=t("./client/ClientView.js");window.addEventListener("load",function(){document.addEventListener("contextmenu",t=>t.preventDefault());const t=document.querySelector("canvas"),e=t.getContext("2d"),n=new i,o=new s(e),a=new r(t,o,n);n.view=o,o.model=n,a.connect()},{capture:!1,once:!0,passive:!0})},{"./client/ClientController.js":148,"./client/ClientModel.js":152,"./client/ClientView.js":153}],148:[function(t,e,n){"use strict";t("core-js/modules/es.symbol.description"),t("core-js/modules/web.dom-collections.iterator");const r=t("socket.io-client"),{constants:i,DataReporter:s,TouchReporter:o,IdStamper:a,Message:c,NOP:u}=t("../shared.js"),l=t("./Interactor.js"),h=new a,p=1e3/60,f=Object.freeze({attachListeners:Symbol("attachListeners"),render:Symbol("render"),startRender:Symbol("startRender")});e.exports=class{constructor(t,e,n){this.canvas=t,this.socket=null,this.model=n,this.view=e,this.renderScheduled=!1,this.resizeCanvasToFillWindow()}[f.attachListeners](){const t={[c.ADD_ELEMENT]:t=>this.handle("addElement",t),[c.ADD_IMAGE]:t=>this.handle("addImage",t),[c.ADD_ITEM]:t=>this.handle("addItem",t),[c.ADD_SHADOW]:t=>this.handle("addShadow",t),[c.RM_ITEM]:t=>this.handle("removeItem",t),[c.RM_SHADOW]:t=>this.handle("removeShadow",t),[c.UD_ITEM]:t=>this.handle("updateItem",t),[c.UD_SHADOW]:t=>this.handle("updateShadow",t),[c.UD_VIEW]:t=>this.handle("updateView",t),[c.RM_ATTRS]:({data:t})=>this.handle("removeAttributes",t),[c.SET_ATTRS]:({data:t})=>this.handle("setAttributes",t),[c.SET_IMAGE]:({data:t})=>this.handle("setImage",t),[c.SET_RENDER]:({data:t})=>this.handle("setRender",t),[c.INITIALIZE]:t=>this.setup(t),[c.LAYOUT]:u,[c.CLICK]:u,[c.RESIZE]:u,[c.SWIPE]:u,[c.TRACK]:u,[c.TRANSFORM]:u,[c.POINTER]:u,[c.BLUR]:u,[c.FULL]:()=>{document.body.innerHTML="WAMS is full! :("}};Object.entries(t).forEach(([t,e])=>this.socket.on(t,e)),window.addEventListener("resize",this.resize.bind(this),!1);const e=this.scheduleRender.bind(this);document.addEventListener(c.IMG_LOAD,e)}connect(){this.socket=r.connect(i.NS_WAMS,{autoConnect:!1,reconnection:!1}),this[f.attachListeners](),this[f.startRender](),this.socket.connect()}[f.render](){this.renderScheduled&&(this.view.draw(),this.renderScheduled=!1)}[f.startRender](){const t=this[f.render].bind(this);window.setInterval(t,p)}forward(t){return function(e){const n=new s({data:e});new c(t,n).emitWith(this.socket)}.bind(this)}handle(t,e){this.model[t](e,this),this.scheduleRender()}resize(){this.resizeCanvasToFillWindow(),new c(c.RESIZE,this.view).emitWith(this.socket),this.view.draw()}resizeCanvasToFillWindow(){this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.view.resizeToFillWindow()}scheduleRender(){this.renderScheduled=!0}setup(t){h.cloneId(this.view,t.id),this.canvas.style.backgroundColor=t.color,this.model.setup(t),this.setupInteractor(t.useServerGestures),new c(c.LAYOUT,this.view).emitWith(this.socket)}setupInteractor(t=!1){t?this.setupInputForwarding():new l({swipe:this.forward(c.SWIPE),tap:this.forward(c.CLICK),track:this.forward(c.TRACK),transform:this.forward(c.TRANSFORM)})}setupInputForwarding(){window.MouseEvent||window.TouchEvent?(this.forwardTouchEvents(),this.forwardMouseEvents()):this.forwardPointerEvents(),this.forwardBlurEvents()}forwardEvents(t,e){t.forEach(t=>{window.addEventListener(t,e,{capture:!0,once:!1,passive:!1})})}forwardBlurEvents(){this.forwardEvents(["touchcancel","pointercancel","blur"],t=>{t.preventDefault();const e=new s;new c(c.BLUR,e).emitWith(this.socket)})}forwardPointerEvents(){this.forwardEvents(["pointerdown","pointermove","pointerup"],t=>{t.preventDefault();const e=new o(t);e.changedTouches=[{identifier:t.pointerId,clientX:t.clientX,clientY:t.clientY}],new c(c.POINTER,e).emitWith(this.socket)})}forwardMouseEvents(){this.forwardEvents(["mousedown","mousemove","mouseup"],t=>{if(t.preventDefault(),0===t.button){const e=new o(t);e.changedTouches=[{identifier:0,clientX:t.clientX,clientY:t.clientY}],new c(c.POINTER,e).emitWith(this.socket)}})}forwardTouchEvents(){this.forwardEvents(["touchstart","touchmove","touchend"],t=>{t.preventDefault();const e=new o(t);e.changedTouches=Array.from(t.changedTouches).map(t=>({identifier:t.identifier,clientX:t.clientX,clientY:t.clientY})),new c(c.POINTER,e).emitWith(this.socket)})}}},{"../shared.js":157,"./Interactor.js":154,"core-js/modules/es.symbol.description":89,"core-js/modules/web.dom-collections.iterator":90,"socket.io-client":114}],149:[function(t,e,n){"use strict";t("core-js/modules/web.dom-collections.iterator");const{Point2D:r,IdStamper:i,WamsElement:s}=t("../shared.js"),o=new i;e.exports=class extends s{constructor(t){super(t),this.element=document.createElement(t.tagname),this.element.classList.add("wams-element"),this.element.width=this.width,this.element.height=this.height,this.element.style.width="".concat(this.width,"px"),this.element.style.height="".concat(this.height,"px"),document.body.appendChild(this.element),t.hasOwnProperty("attributes")&&this.setAttributes(t.attributes),o.cloneId(this,t.id)}draw(t,e){const n=new r(this.x-e.x,this.y-e.y).divideBy(this.scale).rotate(this.rotation),i="rotate(".concat(e.rotation-this.rotation,"rad) "),s="scale(".concat(this.scale*e.scale,") "),o="translate(".concat(n.x,"px, ").concat(n.y,"px) ");this.element.style.transform=s+i+o}setAttributes(t){this.attributes=t,Object.entries(t).forEach(([t,e])=>{this.element[t]=e})}removeAttributes(t){t.forEach(t=>{delete this.attributes[t],this.element[t]=null})}}},{"../shared.js":157,"core-js/modules/web.dom-collections.iterator":90}],150:[function(t,e,n){"use strict";const{IdStamper:r,WamsImage:i,Message:s}=t("../shared.js"),o=new r;e.exports=class extends i{constructor(t){super(t),this.image={},t.src&&this.setImage(t.src),o.cloneId(this,t.id)}draw(t){t.save(),t.translate(this.x,this.y),t.rotate(-this.rotation),t.scale(this.scale,this.scale),this.image.loaded?t.drawImage(this.image,0,0,this.width,this.height):(t.fillStyle="darkgrey",t.fillRect(0,0,this.width,this.height)),t.restore()}setImage(t){this.src=t,this.image=function(t){if(t){const e=new Image;return e.src=t,e.loaded=!1,e.addEventListener("load",()=>{e.loaded=!0,document.dispatchEvent(new CustomEvent(s.IMG_LOAD))},{once:!0}),e}return{}}(t)}}},{"../shared.js":157}],151:[function(t,e,n){"use strict";const{IdStamper:r,Item:i}=t("../shared.js"),{CanvasSequence:s}=t("canvas-sequencer"),o=new r;e.exports=class extends i{constructor(t){super(t),this.render=null,t.sequence&&this.setRender(t.sequence),o.cloneId(this,t.id)}draw(t){this.render&&(t.save(),t.translate(this.x,this.y),t.rotate(-this.rotation),t.scale(this.scale,this.scale),this.render.execute(t),t.restore())}setRender(t){this.render=new s(t)}}},{"../shared.js":157,"canvas-sequencer":9}],152:[function(t,e,n){"use strict";t("core-js/modules/web.dom-collections.iterator");const r=t("./ClientElement.js"),i=t("./ClientImage.js"),s=t("./ClientItem.js"),o=t("./ShadowView.js"),{removeById:a}=t("../shared.js"),c=Object.freeze(["id","items","views"]);e.exports=class{constructor(){this.items=new Map,this.itemOrder=[],this.shadows=new Map,this.view=null}addObject(t,e){const n=new t(e);this.itemOrder.push(n),this.items.set(n.id,n)}addElement(t){this.addObject(r,t)}addImage(t){this.addObject(i,t)}addItem(t){this.addObject(s,t)}addShadow(t){const e=new o(t);this.shadows.set(e.id,e)}removeItem(t){const e=this.items.get(t.id);return e.hasOwnProperty("tagname")&&document.body.removeChild(e.element),this.items.delete(t.id),a(this.itemOrder,t)}removeShadow(t){return this.shadows.delete(t.id)}setup(t){c.forEach(e=>{if(!t.hasOwnProperty(e))throw"setup requires: ".concat(e)}),t.views.forEach(t=>t.id!==this.view.id&&this.addShadow(t)),t.items.reverse().forEach(t=>{t.hasOwnProperty("src")?this.addImage(t):t.hasOwnProperty("tagname")?this.addElement(t):this.addItem(t)})}setItemValue(t,e,n){this.items.has(n.id)&&this.items.get(n.id)[t](n[e])}setAttributes(t){this.setItemValue("setAttributes","attributes",t)}setImage(t){this.setItemValue("setImage","src",t)}setRender(t){this.setItemValue("setRender","sequence",t)}update(t,e){this[t].has(e.id)?this[t].get(e.id).assign(e):console.warn("Unable to find in ".concat(t,": id: "),e.id)}updateItem(t){this.update("items",t)}updateShadow(t){this.update("shadows",t)}updateView(t){this.view.assign(t)}}},{"../shared.js":157,"./ClientElement.js":149,"./ClientImage.js":150,"./ClientItem.js":151,"./ShadowView.js":155,"core-js/modules/web.dom-collections.iterator":90}],153:[function(t,e,n){"use strict";t("core-js/modules/es.symbol.description"),t("core-js/modules/es.number.to-fixed");const{View:r}=t("../shared.js"),i=Object.freeze(["x","y","width","height","rotation","scale"]),s=Object.freeze({align:Symbol("align"),drawItems:Symbol("drawItems"),drawShadows:Symbol("drawShadows"),drawStatus:Symbol("drawStatus"),wipe:Symbol("wipe")});class o extends r{constructor(t){super(o.DEFAULTS),this.context=t,this.model=null,this.id=null}[s.align](){this.context.scale(this.scale,this.scale),this.context.rotate(this.rotation),this.context.translate(-this.x,-this.y)}[s.drawItems](){this.model.itemOrder.forEach(t=>t.draw(this.context,this))}[s.drawShadows](){this.model.shadows.forEach(t=>t.draw(this.context))}[s.drawStatus](){const t=i.map(t=>"".concat(t,": ").concat(this[t].toFixed(2))).concat(["# of Shadows: ".concat(this.model.shadows.size)]);let e=40;this.context.save(),this.context.setTransform(1,0,0,1,0,0),this.context.font="18px Georgia",t.forEach(t=>{this.context.fillText(t,20,e),e+=20}),this.context.restore()}[s.wipe](){this.context.clearRect(0,0,window.innerWidth,window.innerHeight)}draw(){this.context.save(),this[s.wipe](),this[s.align](),this[s.drawItems](),this[s.drawShadows](),this[s.drawStatus](),this.context.restore()}resizeToFillWindow(){this.width=window.innerWidth,this.height=window.innerHeight}}e.exports=o},{"../shared.js":157,"core-js/modules/es.number.to-fixed":86,"core-js/modules/es.symbol.description":89}],154:[function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const i=t("westures"),{NOP:s}=t("../shared.js"),o=t("./Transform.js");class a{constructor(t={}){this.handlers=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){r(t,e,n[e])})}return t}({},a.DEFAULT_HANDLERS,t),this.bindRegions(),window.addEventListener("wheel",this.wheel.bind(this),!1)}bindRegions(){const t=new i.Swipe,e=new i.Swivel({enableKey:"ctrlKey"}),n=new i.Tap,r=new i.Track(["start","end"]),s=new o,a=new i.Region(document.body);a.addGesture(document.body,n,this.forward("tap")),a.addGesture(document.body,t,this.forward("swipe")),a.addGesture(document.body,e,this.swivel()),a.addGesture(document.body,s,this.forward("transform")),a.addGesture(document.body,r,this.forward("track"))}swivel(){return function({rotation:t,pivot:e}){this.handlers.transform({centroid:e,delta:{rotation:t}})}.bind(this)}forward(t){return function(e){this.handlers[t](e)}.bind(this)}wheel(t){t.preventDefault();const e=t.ctrlKey?.02:.1,n=-Math.sign(t.deltaY)*e+1,r={x:t.clientX,y:t.clientY};this.handlers.transform({centroid:r,delta:{scale:n}})}}a.DEFAULT_HANDLERS=Object.freeze({swipe:s,tap:s,track:s,transform:s}),e.exports=a},{"../shared.js":157,"./Transform.js":156,westures:137}],155:[function(t,e,n){"use strict";t("core-js/modules/es.symbol.description");const{colours:r,IdStamper:i,View:s}=t("../shared.js"),o=new i,a=Object.freeze({align:Symbol("align"),style:Symbol("style"),outline:Symbol("outline"),marker:Symbol("marker")});e.exports=class extends s{constructor(t){super(t),o.cloneId(this,t.id)}draw(t){t.save(),this[a.align](t),this[a.style](t),this[a.outline](t),this[a.marker](t),t.restore()}[a.align](t){t.translate(this.x,this.y),t.rotate(-this.rotation),t.scale(1/this.scale,1/this.scale)}[a.style](t){t.globalAlpha=.5,t.strokeStyle=r[this.id%r.length],t.fillStyle=t.strokeStyle,t.lineWidth=5}[a.outline](t){t.strokeRect(0,0,this.width,this.height)}[a.marker](t){const e=t.lineWidth/2;t.beginPath(),t.moveTo(e,e),t.lineTo(e,25),t.lineTo(25,e),t.lineTo(e,e),t.fill()}}},{"../shared.js":157,"core-js/modules/es.symbol.description":89}],156:[function(t,e,n){"use strict";const r=t("westures");e.exports=class extends r.Gesture{constructor(){super("transform"),this.pinch=new r.Pinch,this.rotate=new r.Rotate,this.pan=new r.Pan({muteKey:"ctrlKey"})}start(t){this.pinch.start(t),this.rotate.start(t),this.pan.start(t)}move(t){const e={centroid:t.centroid,delta:{}},n=this.pinch.move(t),r=this.rotate.move(t),i=this.pan.move(t);let s=!1;return n&&(e.delta.scale=n.scale,s=!0),r&&(e.delta.rotation=r.rotation,s=!0),i&&(e.delta.translation=i.translation,s=!0),s?e:null}end(t){this.pinch.end(t),this.rotate.end(t),this.pan.end(t)}cancel(t){this.pinch.cancel(t),this.rotate.cancel(t),this.pan.cancel(t)}}},{westures:137}],157:[function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const i=t("./shared/IdStamper.js"),s=t("./shared/Message.js"),o=t("./shared/Reporters.js"),a=t("./shared/utilities.js"),c=t("./shared/Polygon2D.js"),u=t("./shared/Point2D.js"),l=t("./shared/Rectangle.js"),h={ROTATE_0:0,ROTATE_90:Math.PI/2,ROTATE_180:Math.PI,ROTATE_270:1.5*Math.PI,ROTATE_360:2*Math.PI,NS_WAMS:"/wams"};e.exports=Object.freeze(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){r(t,e,n[e])})}return t}({colours:["saddlebrown","red","blue","lime","darkorange","purple","yellow","aqua","darkgreen","fuchsia"],constants:h,IdStamper:i,Message:s,Point2D:u,Polygon2D:c,Rectangle:l},o,a))},{"./shared/IdStamper.js":158,"./shared/Message.js":159,"./shared/Point2D.js":160,"./shared/Polygon2D.js":161,"./shared/Rectangle.js":162,"./shared/Reporters.js":164,"./shared/utilities.js":165}],158:[function(t,e,n){"use strict";t("core-js/modules/es.symbol.description");const{defineOwnImmutableEnumerableProperty:r}=t("./utilities.js");const i=Symbol("gen");e.exports=class{constructor(){this[i]=function*(){let t=0;for(;Number.isSafeInteger(t+1);)yield++t}()}stampNewId(t){r(t,"id",this[i].next().value)}cloneId(t,e){Number.isSafeInteger(e)&&r(t,"id",e)}}},{"./utilities.js":165,"core-js/modules/es.symbol.description":89}],159:[function(t,e,n){"use strict";t("core-js/modules/es.string.includes"),t("core-js/modules/web.dom-collections.iterator");const{defineOwnImmutableEnumerableProperty:r}=t("./utilities.js"),i={ADD_ELEMENT:"wams-add-element",ADD_IMAGE:"wams-add-image",ADD_ITEM:"wams-add-item",ADD_SHADOW:"wams-add-shadow",RM_ITEM:"wams-remove-item",RM_SHADOW:"wams-remove-shadow",UD_ITEM:"wams-update-item",UD_SHADOW:"wams-update-shadow",UD_VIEW:"wams-update-view",RM_ATTRS:"wams-remove-attributes",SET_ATTRS:"wams-set-attributes",SET_IMAGE:"wams-set-image",SET_RENDER:"wams-set-render",INITIALIZE:"wams-initialize",LAYOUT:"wams-layout",FULL:"wams-full",CLICK:"wams-click",RESIZE:"wams-resize",SWIPE:"wams-swipe",TRACK:"wams-track",TRANSFORM:"wams-transform",POINTER:"wams-pointer",BLUR:"wams-blur",IMG_LOAD:"wams-image-loaded"};Object.freeze(i);const s=Object.freeze(Object.values(i));class o{constructor(t,e){if(!s.includes(t))throw"Invalid message type!";this.type=t,this.reporter=e}emitWith(t){t.emit(this.type,this.reporter.report())}}Object.entries(i).forEach(([t,e])=>{r(o,t,e)}),e.exports=o},{"./utilities.js":165,"core-js/modules/es.string.includes":87,"core-js/modules/web.dom-collections.iterator":90}],160:[function(t,e,n){"use strict";class r{constructor(t=0,e=0){this.x=t,this.y=e}add({x:t=0,y:e=0}){return this.x+=t,this.y+=e,this}angleTo(t){return Math.atan2(t.y-this.y,t.x-this.x)}averageDistanceTo(t){return this.totalDistanceTo(t)/t.length}clone(){return new r(this.x,this.y)}distanceTo(t){return Math.hypot(t.x-this.x,t.y-this.y)}divideBy(t=1){return this.x/=t,this.y/=t,this}isLeftOf(t,e){const n=e.minus(t),r=this.minus(t);return n.x*r.y-n.y*r.x}minus({x:t=0,y:e=0}){return new r(this.x-t,this.y-e)}multiplyBy(t=1){return this.x*=t,this.y*=t,this}rotate(t=0){const{x:e,y:n}=this,r=Math.cos(t),i=Math.sin(t);return this.x=e*r-n*i,this.y=e*i+n*r,this}totalDistanceTo(t){return t.reduce((t,e)=>t+this.distanceTo(e),0)}static midpoint(t=[]){if(0===t.length)return null;const e=r.sum(t);return new r(e.x/t.length,e.y/t.length)}static sum(t=[]){return t.reduce((t,e)=>t.add(e),new r(0,0))}}e.exports=r},{}],161:[function(t,e,n){"use strict";const r=t("./Point2D.js");e.exports=class{constructor(t){if(t.length<1)throw new TypeError("A polygon requires at least one vertex.");this.points=t.map(({x:t,y:e})=>new r(t,e)),this.centroid=r.midpoint(this.points),this.radius=this.points.reduce((t,e)=>{const n=this.centroid.distanceTo(e);return t>n?t:n}),this.points.push(this.points[0].clone())}contains(t){return!(this.centroid.distanceTo(t)>this.radius)&&0!==this.winding_number(t)}winding_number(t){let e=0;const n=new r(t.x,t.y);for(let t=0;t<this.points.length-1;++t)this.points[t].y<=n.y?this.points[t+1].y>n.y&&n.isLeftOf(this.points[t],this.points[t+1])>0&&++e:this.points[t+1].y<=n.y&&n.isLeftOf(this.points[t],this.points[t+1])<0&&--e;return e}}},{"./Point2D.js":160}],162:[function(t,e,n){"use strict";e.exports=class{constructor(t,e,n=0,r=0){this.width=t,this.height=e,this.x=n,this.y=r}contains(t){return t.x>=this.x&&t.x<=this.x+this.width&&t.y>=this.y&&t.y<=this.y+this.height}}},{}],163:[function(t,e,n){"use strict";function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){i(t,e,n[e])})}return t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const s=new(t("./IdStamper.js"));e.exports=function(t){const e=Object.freeze(r({},t)),n=Object.freeze(Object.keys(e));class i{constructor(t){Object.assign(this,e,t),this.assign(t)}assign(t={}){n.forEach(e=>{e in t&&(this[e]=t[e])})}report(){const t={};return n.forEach(e=>{t[e]=this[e]}),s.cloneId(t,this.id),t}}return i.DEFAULTS=Object.freeze(r({},t)),i}},{"./IdStamper.js":158}],164:[function(t,e,n){"use strict";const r=t("./ReporterFactory.js"),i=r({x:0,y:0,rotation:0,scale:1,type:"item/polygonal"}),s=r({x:0,y:0,width:400,height:300,rotation:0,scale:1,type:"item/element",tagname:"div"}),o=r({x:0,y:0,width:400,height:300,rotation:0,scale:1,type:"item/image"}),a=r({x:0,y:0,width:1600,height:900,type:"view/background",scale:1,rotation:0}),c=r({data:null}),u=r({views:[],items:[],color:"#dad1e3",id:null,useServerGestures:!1}),l=r({type:null,changedTouches:[],ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1});e.exports={Item:i,View:a,DataReporter:c,FullStateReporter:u,TouchReporter:l,WamsElement:s,WamsImage:o}},{"./ReporterFactory.js":163}],165:[function(t,e,n){"use strict";e.exports=Object.freeze({defineOwnImmutableEnumerableProperty:function(t,e,n){Object.defineProperty(t,e,{value:n,configurable:!1,enumerable:!0,writable:!1})},NOP:()=>{},removeById:function(t,e){const n=t.findIndex(t=>t.id===e.id);return n>=0&&(t.splice(n,1),!0)}})},{}]},{},[147])(147)});